<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 수치형 변수에 대한 R 기술통계 | R을 이용한 통계 분석 (개정판)</title>
  <meta name="description" content="경영통계분석실습의 교재를 위해 제작되었습니다." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 수치형 변수에 대한 R 기술통계 | R을 이용한 통계 분석 (개정판)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="경영통계분석실습의 교재를 위해 제작되었습니다." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 수치형 변수에 대한 R 기술통계 | R을 이용한 통계 분석 (개정판)" />
  
  <meta name="twitter:description" content="경영통계분석실습의 교재를 위해 제작되었습니다." />
  

<meta name="author" content="김길환" />


<meta name="date" content="2022-04-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ch-categoricalDescStat.html"/>
<link rel="next" href="ch-categorical-numeric.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BTR0YQD3G1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BTR0YQD3G1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R을 이용한 통계 분석</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>일러두기</a></li>
<li class="part"><span><b>I 개요</b></span></li>
<li class="chapter" data-level="1" data-path="ch-statisics.html"><a href="ch-statisics.html"><i class="fa fa-check"></i><b>1</b> 통계 분석이란?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="ch-statisics.html"><a href="ch-statisics.html#sec:descStat"><i class="fa fa-check"></i><b>1.1</b> 기술통계 분석</a></li>
<li class="chapter" data-level="1.2" data-path="ch-statisics.html"><a href="ch-statisics.html#sec:inferStat"><i class="fa fa-check"></i><b>1.2</b> 추론통계 분석</a></li>
<li class="chapter" data-level="1.3" data-path="ch-statisics.html"><a href="ch-statisics.html#sec:statAnalysis"><i class="fa fa-check"></i><b>1.3</b> 통계 분석의 절차</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="ch-statisics.html"><a href="ch-statisics.html#문제-정의"><i class="fa fa-check"></i><b>1.3.1</b> 문제 정의</a></li>
<li class="chapter" data-level="1.3.2" data-path="ch-statisics.html"><a href="ch-statisics.html#데이터-수집"><i class="fa fa-check"></i><b>1.3.2</b> 데이터 수집</a></li>
<li class="chapter" data-level="1.3.3" data-path="ch-statisics.html"><a href="ch-statisics.html#데이터-전처리-및-탐색"><i class="fa fa-check"></i><b>1.3.3</b> 데이터 전처리 및 탐색</a></li>
<li class="chapter" data-level="1.3.4" data-path="ch-statisics.html"><a href="ch-statisics.html#통계-모형-수립"><i class="fa fa-check"></i><b>1.3.4</b> 통계 모형 수립</a></li>
<li class="chapter" data-level="1.3.5" data-path="ch-statisics.html"><a href="ch-statisics.html#결론-도출"><i class="fa fa-check"></i><b>1.3.5</b> 결론 도출</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="ch-statisics.html"><a href="ch-statisics.html#sec:statVariables"><i class="fa fa-check"></i><b>1.4</b> 통계 데이터에서 변수의 종류</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="ch-statisics.html"><a href="ch-statisics.html#질적-변수"><i class="fa fa-check"></i><b>1.4.1</b> 질적 변수</a></li>
<li class="chapter" data-level="1.4.2" data-path="ch-statisics.html"><a href="ch-statisics.html#양적-변수"><i class="fa fa-check"></i><b>1.4.2</b> 양적 변수</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II R 기초</b></span></li>
<li class="chapter" data-level="2" data-path="ch-intro.html"><a href="ch-intro.html"><i class="fa fa-check"></i><b>2</b> R 설치 및 시작</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ch-intro.html"><a href="ch-intro.html#sec:Rintro"><i class="fa fa-check"></i><b>2.1</b> R 소개</a></li>
<li class="chapter" data-level="2.2" data-path="ch-intro.html"><a href="ch-intro.html#sec:installation"><i class="fa fa-check"></i><b>2.2</b> R 설치하기</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="ch-intro.html"><a href="ch-intro.html#r-배포판-내려받기"><i class="fa fa-check"></i><b>2.2.1</b> R 배포판 내려받기</a></li>
<li class="chapter" data-level="2.2.2" data-path="ch-intro.html"><a href="ch-intro.html#설치에-앞서-주의할-사항"><i class="fa fa-check"></i><b>2.2.2</b> 설치에 앞서 주의할 사항</a></li>
<li class="chapter" data-level="2.2.3" data-path="ch-intro.html"><a href="ch-intro.html#r-설치하기"><i class="fa fa-check"></i><b>2.2.3</b> R 설치하기</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="ch-intro.html"><a href="ch-intro.html#sec:RStudio"><i class="fa fa-check"></i><b>2.3</b> RStudio</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="ch-intro.html"><a href="ch-intro.html#rstudio-설치"><i class="fa fa-check"></i><b>2.3.1</b> RStudio 설치</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="ch-intro.html"><a href="ch-intro.html#sec:R_start"><i class="fa fa-check"></i><b>2.4</b> RStudio로 R 시작하기</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="ch-intro.html"><a href="ch-intro.html#r-콘솔과-프롬프트"><i class="fa fa-check"></i><b>2.4.1</b> R 콘솔과 프롬프트</a></li>
<li class="chapter" data-level="2.4.2" data-path="ch-intro.html"><a href="ch-intro.html#r-콘솔-사용과-관련된-몇-가지-팁"><i class="fa fa-check"></i><b>2.4.2</b> R 콘솔 사용과 관련된 몇 가지 팁</a></li>
<li class="chapter" data-level="2.4.3" data-path="ch-intro.html"><a href="ch-intro.html#r-스크립트-파일-만들기"><i class="fa fa-check"></i><b>2.4.3</b> R 스크립트 파일 만들기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html"><i class="fa fa-check"></i><b>3</b> R 데이터 형식과 변수</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#sec:simpleDataType"><i class="fa fa-check"></i><b>3.1</b> 단순한 데이터 형식</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#r의-기본적-데이터-형식-숫자-문자열-논리값"><i class="fa fa-check"></i><b>3.1.1</b> R의 기본적 데이터 형식: 숫자, 문자열, 논리값</a></li>
<li class="chapter" data-level="3.1.2" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#vs-10"><i class="fa fa-check"></i><b>3.1.2</b> 10 vs “10”</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#sec:simpleOperation"><i class="fa fa-check"></i><b>3.2</b> 숫자 연산</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#사칙-연산"><i class="fa fa-check"></i><b>3.2.1</b> 사칙 연산</a></li>
<li class="chapter" data-level="3.2.2" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#거듭-제곱-연산"><i class="fa fa-check"></i><b>3.2.2</b> 거듭 제곱 연산</a></li>
<li class="chapter" data-level="3.2.3" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#몫과-나머지"><i class="fa fa-check"></i><b>3.2.3</b> 몫과 나머지</a></li>
<li class="chapter" data-level="3.2.4" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#비교-연산-그리고-vs."><i class="fa fa-check"></i><b>3.2.4</b> 비교 연산 그리고 <code>==</code> vs. <code>=</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#논리값-연산"><i class="fa fa-check"></i><b>3.3</b> 논리값 연산</a></li>
<li class="chapter" data-level="3.4" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#문자열-연산"><i class="fa fa-check"></i><b>3.4</b> 문자열 연산</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#문자열-결합-연산-paste"><i class="fa fa-check"></i><b>3.4.1</b> 문자열 결합 연산: <code>paste()</code></a></li>
<li class="chapter" data-level="3.4.2" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#문자열-분리-연산-strsplit"><i class="fa fa-check"></i><b>3.4.2</b> 문자열 분리 연산: <code>strsplit()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#sec:variable"><i class="fa fa-check"></i><b>3.5</b> 변수와 할당</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#변수는-메모리-공간에-붙이는-레이블"><i class="fa fa-check"></i><b>3.5.1</b> 변수는 메모리 공간에 붙이는 레이블</a></li>
<li class="chapter" data-level="3.5.2" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#변수명에-대한-규칙"><i class="fa fa-check"></i><b>3.5.2</b> 변수명에 대한 규칙</a></li>
<li class="chapter" data-level="3.5.3" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#변수에-값-할당하기"><i class="fa fa-check"></i><b>3.5.3</b> 변수에 값 할당하기</a></li>
<li class="chapter" data-level="3.5.4" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#할당-연산자"><i class="fa fa-check"></i><b>3.5.4</b> 할당 연산자</a></li>
<li class="chapter" data-level="3.5.5" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#연산에-변수-사용하기"><i class="fa fa-check"></i><b>3.5.5</b> 연산에 변수 사용하기</a></li>
<li class="chapter" data-level="3.5.6" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#변수에-값-재할당하기"><i class="fa fa-check"></i><b>3.5.6</b> 변수에 값 재할당하기</a></li>
<li class="chapter" data-level="3.5.7" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#할당문은-우변이-수행된-후-좌변으로-할당이-이루어진다."><i class="fa fa-check"></i><b>3.5.7</b> 할당문은 우변이 수행된 후 좌변으로 할당이 이루어진다.</a></li>
<li class="chapter" data-level="3.5.8" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#변수-제거하기-rm"><i class="fa fa-check"></i><b>3.5.8</b> 변수 제거하기: <code>rm()</code></a></li>
<li class="chapter" data-level="3.5.9" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#변수-목록-확인하기-ls"><i class="fa fa-check"></i><b>3.5.9</b> 변수 목록 확인하기: <code>ls()</code></a></li>
<li class="chapter" data-level="3.5.10" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#변수를-할당하는-또-다른-방법-assign"><i class="fa fa-check"></i><b>3.5.10</b> 변수를 할당하는 또 다른 방법: <code>assign()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#sec:useFunctions"><i class="fa fa-check"></i><b>3.6</b> 함수를 이용한 연산</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#함수-호출-하기"><i class="fa fa-check"></i><b>3.6.1</b> 함수 호출 하기</a></li>
<li class="chapter" data-level="3.6.2" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#실수를-정수로-변환하는-함수"><i class="fa fa-check"></i><b>3.6.2</b> 실수를 정수로 변환하는 함수</a></li>
<li class="chapter" data-level="3.6.3" data-path="ch-R-Data-Basic.html"><a href="ch-R-Data-Basic.html#순열과-조합-함수"><i class="fa fa-check"></i><b>3.6.3</b> 순열과 조합 함수</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html"><i class="fa fa-check"></i><b>4</b> R 데이터 구조</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#sec:vectors"><i class="fa fa-check"></i><b>4.1</b> 벡터</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#벡터는-동일-형식-데이터의-나열"><i class="fa fa-check"></i><b>4.1.1</b> 벡터는 동일 형식 데이터의 나열</a></li>
<li class="chapter" data-level="4.1.2" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#벡터를-생성하는-법"><i class="fa fa-check"></i><b>4.1.2</b> 벡터를 생성하는 법</a></li>
<li class="chapter" data-level="4.1.3" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#sec:vectorOperation"><i class="fa fa-check"></i><b>4.1.3</b> 벡터의 연산</a></li>
<li class="chapter" data-level="4.1.4" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#sec:vecFiltering"><i class="fa fa-check"></i><b>4.1.4</b> 벡터의 필터링/인덱싱</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#sec:matrices"><i class="fa fa-check"></i><b>4.2</b> 행렬과 배열</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#행렬과-배열은-다차원적-데이터-구조"><i class="fa fa-check"></i><b>4.2.1</b> 행렬과 배열은 다차원적 데이터 구조</a></li>
<li class="chapter" data-level="4.2.2" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#행렬과-배열의-필요성"><i class="fa fa-check"></i><b>4.2.2</b> 행렬과 배열의 필요성</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#sec:lists"><i class="fa fa-check"></i><b>4.3</b> 리스트</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#리스트-이해의-중요성"><i class="fa fa-check"></i><b>4.3.1</b> 리스트 이해의 중요성</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#sec:dataFrames"><i class="fa fa-check"></i><b>4.4</b> 데이터 프레임</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#데이터-프레임의-열변수은-벡터이다."><i class="fa fa-check"></i><b>4.4.1</b> 데이터 프레임의 열(변수)은 벡터이다.</a></li>
<li class="chapter" data-level="4.4.2" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#데이터프레임을-행렬-형식으로-필터링"><i class="fa fa-check"></i><b>4.4.2</b> 데이터프레임을 행렬 형식으로 필터링</a></li>
<li class="chapter" data-level="4.4.3" data-path="ch-R-Data-Structure.html"><a href="ch-R-Data-Structure.html#데이터-프레임의-문법과-조작"><i class="fa fa-check"></i><b>4.4.3</b> 데이터 프레임의 문법과 조작</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap-visulaize.html"><a href="chap-visulaize.html"><i class="fa fa-check"></i><b>5</b> R 데이터 시각화 기초</a>
<ul>
<li class="chapter" data-level="5.1" data-path="chap-visulaize.html"><a href="chap-visulaize.html#ggplot2-패키지-설치하기"><i class="fa fa-check"></i><b>5.1</b> ggplot2 패키지 설치하기</a></li>
<li class="chapter" data-level="5.2" data-path="chap-visulaize.html"><a href="chap-visulaize.html#sec:getStarted-ggplot2"><i class="fa fa-check"></i><b>5.2</b> ggplot2 시작하기</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="chap-visulaize.html"><a href="chap-visulaize.html#subsec:tryGgplot"><i class="fa fa-check"></i><b>5.2.1</b> ggplot2 그래프의 기본 문법</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="chap-visulaize.html"><a href="chap-visulaize.html#sec:aesMapping"><i class="fa fa-check"></i><b>5.3</b> 그래프 속성과 데이터 열 매핑하기 (aesthetic mapping)</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="chap-visulaize.html"><a href="chap-visulaize.html#범주형-변수와-색상color-속성의-매핑"><i class="fa fa-check"></i><b>5.3.1</b> 범주형 변수와 색상(<code>color</code>) 속성의 매핑</a></li>
<li class="chapter" data-level="5.3.2" data-path="chap-visulaize.html"><a href="chap-visulaize.html#범주형-변수와-모양shape-속성의-매핑"><i class="fa fa-check"></i><b>5.3.2</b> 범주형 변수와 모양(<code>shape</code>) 속성의 매핑</a></li>
<li class="chapter" data-level="5.3.3" data-path="chap-visulaize.html"><a href="chap-visulaize.html#연속형-변수와-크기size-색상color-투명도alpha-속성의-매핑"><i class="fa fa-check"></i><b>5.3.3</b> 연속형 변수와 크기(<code>size</code>), 색상(<code>color</code>), 투명도(<code>alpha</code>) 속성의 매핑</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="chap-visulaize.html"><a href="chap-visulaize.html#sec:commonProblems"><i class="fa fa-check"></i><b>5.4</b> ggplot 명령문을 입력할 때 자주 발생하는 문제들</a></li>
<li class="chapter" data-level="5.5" data-path="chap-visulaize.html"><a href="chap-visulaize.html#sec:layerAndGeom"><i class="fa fa-check"></i><b>5.5</b> geom 함수와 그래프 계층</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="chap-visulaize.html"><a href="chap-visulaize.html#geom-함수에서-속성-매핑하기"><i class="fa fa-check"></i><b>5.5.1</b> geom 함수에서 속성 매핑하기</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="chap-visulaize.html"><a href="chap-visulaize.html#sec:facets"><i class="fa fa-check"></i><b>5.6</b> 측면(facets)으로 나누어 그리기</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="chap-visulaize.html"><a href="chap-visulaize.html#facet_wrap로-일차원-측면-그래프-그리기"><i class="fa fa-check"></i><b>5.6.1</b> <code>facet_wrap()</code>로 일차원 측면 그래프 그리기</a></li>
<li class="chapter" data-level="5.6.2" data-path="chap-visulaize.html"><a href="chap-visulaize.html#facet_grid로-이차원-측면-그래프-그리기"><i class="fa fa-check"></i><b>5.6.2</b> <code>facet_grid()</code>로 이차원 측면 그래프 그리기</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="chap-visulaize.html"><a href="chap-visulaize.html#기타-ggplot2의-문법-요소"><i class="fa fa-check"></i><b>5.7</b> 기타 ggplot2의 문법 요소</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="chap-visulaize.html"><a href="chap-visulaize.html#labelsmodification"><i class="fa fa-check"></i><b>5.7.1</b> 그래프 레이블을 조정하기</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III R 기술통계 분석</b></span></li>
<li class="chapter" data-level="6" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html"><i class="fa fa-check"></i><b>6</b> 기술통계 분석이란?</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html#기술통계-기법의-중요성"><i class="fa fa-check"></i><b>6.1</b> 기술통계 기법의 중요성</a></li>
<li class="chapter" data-level="6.2" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html#기술통계-기법의-분류"><i class="fa fa-check"></i><b>6.2</b> 기술통계 기법의 분류</a></li>
<li class="chapter" data-level="6.3" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html#bizstatp-패키지의-course-데이터"><i class="fa fa-check"></i><b>6.3</b> <code>bizstatp</code> 패키지의 <code>course</code> 데이터</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html#bizstatp-패키지-설치-방법"><i class="fa fa-check"></i><b>6.3.1</b> <code>bizstatp</code> 패키지 설치 방법</a></li>
<li class="chapter" data-level="6.3.2" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html#course-데이터"><i class="fa fa-check"></i><b>6.3.2</b> <code>course</code> 데이터</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html#데이터-전체에-대한-요약-정보-파악하기"><i class="fa fa-check"></i><b>6.4</b> 데이터 전체에 대한 요약 정보 파악하기</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html#summary-함수를-이용하여-변수-별로-통계-요약하기"><i class="fa fa-check"></i><b>6.4.1</b> <code>summary()</code> 함수를 이용하여 변수 별로 통계 요약하기</a></li>
<li class="chapter" data-level="6.4.2" data-path="ch-introDescStat.html"><a href="ch-introDescStat.html#plot-함수를-이용한-변수-사이의-상관성-파악"><i class="fa fa-check"></i><b>6.4.2</b> <code>plot()</code> 함수를 이용한 변수 사이의 상관성 파악</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html"><i class="fa fa-check"></i><b>7</b> 범주형 변수에 대한 R 기술통계</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#한-범주형-변수에-대한-분포-분석"><i class="fa fa-check"></i><b>7.1</b> 한 범주형 변수에 대한 분포 분석</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#sec:freqTables"><i class="fa fa-check"></i><b>7.1.1</b> 범주형 변수 분포를 수치로 요약하기 - 빈도표 구하기</a></li>
<li class="chapter" data-level="7.1.2" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#범주형-변수-분포를-그래프로-요약하기"><i class="fa fa-check"></i><b>7.1.2</b> 범주형 변수 분포를 그래프로 요약하기</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#둘-이상의-범주형-변수의-상관성-분석"><i class="fa fa-check"></i><b>7.2</b> 둘 이상의 범주형 변수의 상관성 분석</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#범주형-변수의-상관성을-수치로-요약하기---교차표-만들기"><i class="fa fa-check"></i><b>7.2.1</b> 범주형 변수의 상관성을 수치로 요약하기 - 교차표 만들기</a></li>
<li class="chapter" data-level="7.2.2" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#범주형-변수의-상관성을-그래프로-요약하기"><i class="fa fa-check"></i><b>7.2.2</b> 범주형 변수의 상관성을 그래프로 요약하기</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#범주형-변수의-분석-사례"><i class="fa fa-check"></i><b>7.3</b> 범주형 변수의 분석 사례</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#관절염-치료-임상시험-데이터-분석"><i class="fa fa-check"></i><b>7.3.1</b> 관절염 치료 임상시험 데이터 분석</a></li>
<li class="chapter" data-level="7.3.2" data-path="ch-categoricalDescStat.html"><a href="ch-categoricalDescStat.html#subsec:BrokenMarriage"><i class="fa fa-check"></i><b>7.3.2</b> 이혼에 대한 사회조사 데이터 분석</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html"><i class="fa fa-check"></i><b>8</b> 수치형 변수에 대한 R 기술통계</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#한-수치형-변수에-대한-분포-분석"><i class="fa fa-check"></i><b>8.1</b> 한 수치형 변수에 대한 분포 분석</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#수치형-변수-분포를-수치로-요약하기"><i class="fa fa-check"></i><b>8.1.1</b> 수치형 변수 분포를 수치로 요약하기</a></li>
<li class="chapter" data-level="8.1.2" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#수치형-변수-분포를-그래프로-요약하기"><i class="fa fa-check"></i><b>8.1.2</b> 수치형 변수 분포를 그래프로 요약하기</a></li>
<li class="chapter" data-level="8.1.3" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#subsection:transformNumerice"><i class="fa fa-check"></i><b>8.1.3</b> 수치형 변수의 변환</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#둘-이상의-수치형-변수의-상관성-분석"><i class="fa fa-check"></i><b>8.2</b> 둘 이상의 수치형 변수의 상관성 분석</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#상관계수"><i class="fa fa-check"></i><b>8.2.1</b> 상관계수</a></li>
<li class="chapter" data-level="8.2.2" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#산점도"><i class="fa fa-check"></i><b>8.2.2</b> 산점도</a></li>
<li class="chapter" data-level="8.2.3" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#추세선-그리기"><i class="fa fa-check"></i><b>8.2.3</b> 추세선 그리기</a></li>
<li class="chapter" data-level="8.2.4" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#수치형-변수의-변환"><i class="fa fa-check"></i><b>8.2.4</b> 수치형 변수의 변환</a></li>
<li class="chapter" data-level="8.2.5" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#subsubsection:categorynum"><i class="fa fa-check"></i><b>8.2.5</b> 범주형 변수를 조건으로 수치형 변수의 상관성 탐색</a></li>
<li class="chapter" data-level="8.2.6" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#수치형-변수를-조건으로-두-수치형-변수의-상관성-분석"><i class="fa fa-check"></i><b>8.2.6</b> 수치형 변수를 조건으로 두 수치형 변수의 상관성 분석</a></li>
<li class="chapter" data-level="8.2.7" data-path="ch-numericDescStat.html"><a href="ch-numericDescStat.html#ggpairs를-이용한-수치형-변수를-한-번에-분석하기"><i class="fa fa-check"></i><b>8.2.7</b> <code>ggpairs()</code>를 이용한 수치형 변수를 한 번에 분석하기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ch-categorical-numeric.html"><a href="ch-categorical-numeric.html"><i class="fa fa-check"></i><b>9</b> 범주형 변수와 수치형 변수의 관계 분석</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ch-categorical-numeric.html"><a href="ch-categorical-numeric.html#범주별로-수치형-변수에-대해-통계-요약하기"><i class="fa fa-check"></i><b>9.1</b> 범주별로 수치형 변수에 대해 통계 요약하기</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ch-categorical-numeric.html"><a href="ch-categorical-numeric.html#한-범주형-변수를-조건으로-수치형-변수를-통계-요약하기"><i class="fa fa-check"></i><b>9.1.1</b> 한 범주형 변수를 조건으로 수치형 변수를 통계 요약하기</a></li>
<li class="chapter" data-level="9.1.2" data-path="ch-categorical-numeric.html"><a href="ch-categorical-numeric.html#여러-범주형-변수를-조건으로-수치형-변수를-통계-요약하기"><i class="fa fa-check"></i><b>9.1.2</b> 여러 범주형 변수를 조건으로 수치형 변수를 통계 요약하기</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ch-categorical-numeric.html"><a href="ch-categorical-numeric.html#범주별-수치-변수의-분포-그래프"><i class="fa fa-check"></i><b>9.2</b> 범주별 수치 변수의 분포 그래프</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="ch-categorical-numeric.html"><a href="ch-categorical-numeric.html#상자-그래프"><i class="fa fa-check"></i><b>9.2.1</b> 상자 그래프</a></li>
<li class="chapter" data-level="9.2.2" data-path="ch-categorical-numeric.html"><a href="ch-categorical-numeric.html#범주별로-수치형-변수의-분포-모양을-비교하기"><i class="fa fa-check"></i><b>9.2.2</b> 범주별로 수치형 변수의 분포 모양을 비교하기</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV R 추론통계 분석</b></span></li>
<li class="chapter" data-level="10" data-path="ch-hypoTest.html"><a href="ch-hypoTest.html"><i class="fa fa-check"></i><b>10</b> 가설검정이란?</a>
<ul>
<li class="chapter" data-level="10.1" data-path="ch-hypoTest.html"><a href="ch-hypoTest.html#가설의-설정"><i class="fa fa-check"></i><b>10.1</b> 가설의 설정</a></li>
<li class="chapter" data-level="10.2" data-path="ch-hypoTest.html"><a href="ch-hypoTest.html#검정통계량과-표본-분포"><i class="fa fa-check"></i><b>10.2</b> 검정통계량과 표본 분포</a></li>
<li class="chapter" data-level="10.3" data-path="ch-hypoTest.html"><a href="ch-hypoTest.html#기각역과-유의수준"><i class="fa fa-check"></i><b>10.3</b> 기각역과 유의수준</a></li>
<li class="chapter" data-level="10.4" data-path="ch-hypoTest.html"><a href="ch-hypoTest.html#유의확률-p-값p-value"><i class="fa fa-check"></i><b>10.4</b> 유의확률 p-값(p-value)</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html"><i class="fa fa-check"></i><b>11</b> 범주형 변수에 대한 가설검정</a>
<ul>
<li class="chapter" data-level="11.1" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#단일-모집단의-모비율에-대한-가설검정"><i class="fa fa-check"></i><b>11.1</b> 단일 모집단의 모비율에 대한 가설검정</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#binom.test로-단일-모집단-모비율-검정하기"><i class="fa fa-check"></i><b>11.1.1</b> <code>binom.test()</code>로 단일 모집단 모비율 검정하기</a></li>
<li class="chapter" data-level="11.1.2" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#빈도표를-입력변수로-전달하기"><i class="fa fa-check"></i><b>11.1.2</b> 빈도표를 입력변수로 전달하기</a></li>
<li class="chapter" data-level="11.1.3" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#prop.test로-단일-모집단-모비율-검정하기"><i class="fa fa-check"></i><b>11.1.3</b> <code>prop.test()</code>로 단일 모집단 모비율 검정하기</a></li>
<li class="chapter" data-level="11.1.4" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#정규분포를-이용한-비율-검정에서-연속성-수정"><i class="fa fa-check"></i><b>11.1.4</b> 정규분포를 이용한 비율 검정에서 연속성 수정</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#여러-모집단의-모비율의-차이에-대한-가설검정"><i class="fa fa-check"></i><b>11.2</b> 여러 모집단의 모비율의 차이에 대한 가설검정</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#prop.test를-이용한-두-모집단의-모비율의-차이-검정"><i class="fa fa-check"></i><b>11.2.1</b> <code>prop.test()</code>를 이용한 두 모집단의 모비율의 차이 검정</a></li>
<li class="chapter" data-level="11.2.2" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#교차표를-이용하여-여러-모집단의-모비율-차이를-검정하기"><i class="fa fa-check"></i><b>11.2.2</b> 교차표를 이용하여 여러 모집단의 모비율 차이를 검정하기</a></li>
<li class="chapter" data-level="11.2.3" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#fisher의-exact-test"><i class="fa fa-check"></i><b>11.2.3</b> Fisher의 Exact Test</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#적합성-검정"><i class="fa fa-check"></i><b>11.3</b> 적합성 검정</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#빈도표를-이용한-적합성-검정"><i class="fa fa-check"></i><b>11.3.1</b> 빈도표를 이용한 적합성 검정</a></li>
<li class="chapter" data-level="11.3.2" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#몬테-카를로-시뮬레이션을-이용한-적합도-가설검정"><i class="fa fa-check"></i><b>11.3.2</b> 몬테 카를로 시뮬레이션을 이용한 적합도 가설검정</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#독립성-검정"><i class="fa fa-check"></i><b>11.4</b> 독립성 검정</a></li>
<li class="chapter" data-level="11.5" data-path="ch-categoricalTest.html"><a href="ch-categoricalTest.html#범주형-변수의-가설검정에-대한-정리"><i class="fa fa-check"></i><b>11.5</b> 범주형 변수의 가설검정에 대한 정리</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ch-numericTest.html"><a href="ch-numericTest.html"><i class="fa fa-check"></i><b>12</b> 수치형 변수에 대한 가설검정</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ch-numericTest.html"><a href="ch-numericTest.html#단일-모집단에서의-모평균에-대한-검정"><i class="fa fa-check"></i><b>12.1</b> 단일 모집단에서의 모평균에 대한 검정</a></li>
<li class="chapter" data-level="12.2" data-path="ch-numericTest.html"><a href="ch-numericTest.html#두-모집단에서의-모평균-차이에-대한-검정"><i class="fa fa-check"></i><b>12.2</b> 두 모집단에서의 모평균 차이에 대한 검정</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="ch-numericTest.html"><a href="ch-numericTest.html#등분산이-가정되는-경우의-모평균-차이-검정"><i class="fa fa-check"></i><b>12.2.1</b> 등분산이 가정되는 경우의 모평균 차이 검정</a></li>
<li class="chapter" data-level="12.2.2" data-path="ch-numericTest.html"><a href="ch-numericTest.html#등분산이-가정될-수-없는-경우의-모평균의-차이-검정"><i class="fa fa-check"></i><b>12.2.2</b> 등분산이 가정될 수 없는 경우의 모평균의 차이 검정</a></li>
<li class="chapter" data-level="12.2.3" data-path="ch-numericTest.html"><a href="ch-numericTest.html#데이터프레임에서-모평균-차이-검정"><i class="fa fa-check"></i><b>12.2.3</b> 데이터프레임에서 모평균 차이 검정</a></li>
<li class="chapter" data-level="12.2.4" data-path="ch-numericTest.html"><a href="ch-numericTest.html#짝진-표본에서의-모평균-차이에-대한-가설검정"><i class="fa fa-check"></i><b>12.2.4</b> 짝진 표본에서의 모평균 차이에 대한 가설검정</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="ch-numericTest.html"><a href="ch-numericTest.html#셋-이상의-모집단에서의-모평균-차이에-대한-검정"><i class="fa fa-check"></i><b>12.3</b> 셋 이상의 모집단에서의 모평균 차이에 대한 검정</a></li>
<li class="chapter" data-level="12.4" data-path="ch-numericTest.html"><a href="ch-numericTest.html#정규성을-따르지-않을-때의-가설검정"><i class="fa fa-check"></i><b>12.4</b> 정규성을 따르지 않을 때의 가설검정</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="ch-numericTest.html"><a href="ch-numericTest.html#두-모집단의-중위수에-대한-비모수적-가설검정"><i class="fa fa-check"></i><b>12.4.1</b> 두 모집단의 중위수에 대한 비모수적 가설검정</a></li>
<li class="chapter" data-level="12.4.2" data-path="ch-numericTest.html"><a href="ch-numericTest.html#짝진표본에-대한-검정"><i class="fa fa-check"></i><b>12.4.2</b> 짝진표본에 대한 검정</a></li>
<li class="chapter" data-level="12.4.3" data-path="ch-numericTest.html"><a href="ch-numericTest.html#순열-검정"><i class="fa fa-check"></i><b>12.4.3</b> 순열 검정</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ch-anova.html"><a href="ch-anova.html"><i class="fa fa-check"></i><b>13</b> 분산 분석</a>
<ul>
<li class="chapter" data-level="13.1" data-path="ch-anova.html"><a href="ch-anova.html#일원분류-분산-분석"><i class="fa fa-check"></i><b>13.1</b> 일원분류 분산 분석</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="ch-anova.html"><a href="ch-anova.html#개념"><i class="fa fa-check"></i><b>13.1.1</b> 개념</a></li>
<li class="chapter" data-level="13.1.2" data-path="ch-anova.html"><a href="ch-anova.html#aov-함수"><i class="fa fa-check"></i><b>13.1.2</b> <code>aov()</code> 함수</a></li>
<li class="chapter" data-level="13.1.3" data-path="ch-anova.html"><a href="ch-anova.html#다중-비교"><i class="fa fa-check"></i><b>13.1.3</b> 다중 비교</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="ch-anova.html"><a href="ch-anova.html#이원분류-분산-분석"><i class="fa fa-check"></i><b>13.2</b> 이원분류 분산 분석</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="ch-anova.html"><a href="ch-anova.html#교호작용이-없는-이원분류-분산-분석"><i class="fa fa-check"></i><b>13.2.1</b> 교호작용이 없는 이원분류 분산 분석</a></li>
<li class="chapter" data-level="13.2.2" data-path="ch-anova.html"><a href="ch-anova.html#교호작용이-있는-이원분류-분산-분석"><i class="fa fa-check"></i><b>13.2.2</b> 교호작용이 있는 이원분류 분산 분석</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="ch-anova.html"><a href="ch-anova.html#공분산-분석"><i class="fa fa-check"></i><b>13.3</b> 공분산 분석</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R을 이용한 통계 분석 (개정판)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ch:numericDescStat" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> 수치형 변수에 대한 R 기술통계</h1>
<p>수치형 변수에 대한 기술통계 분석도 범주형 변수와 마찬가지로 한 변수의 분포를 파악하는 방법과 여러 개의 수치형 변수 사이의 상관성을 파악하는 방법으로 나누어 살펴보도록 한다.</p>
<div id="한-수치형-변수에-대한-분포-분석" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> 한 수치형 변수에 대한 분포 분석</h2>
<p><code>bizstatp</code>의 <code>course</code> 데이터의 총점(<code>score</code>) 같은 수치형 변수가 있을 때 우리는 분포에 대해 다음과 같은 질문을 해볼 수 있다.</p>
<ul>
<li>수치형 변수의 중심점은 어디인가? 그리고 가장 빈번하게 발생하는 수치는 어디인가?</li>
<li>수치형 변수의 값은 얼마니 넓게 분포하는? 특정 값 중심으로 몰려 있는가, 아니면 매우 넓게 퍼져 있는가?</li>
<li>수치형 변수의 분포는 대칭적인가, 한쪽으로 치우쳐 있는가?</li>
<li>다른 수치 값과 동떨어져 있는 이상치(outliers)가 있는가?</li>
</ul>
<p>이러한 질문에 답하기 위해서, 범주형 변수와 마찬가지로 수치로 요약해 볼 수도 있고 그래프로 요약해 볼 수 있다.</p>
<div id="수치형-변수-분포를-수치로-요약하기" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> 수치형 변수 분포를 수치로 요약하기</h3>
<p>수치형 변수의 특성을 파악하기 위해 분포의 특성을 대표할 수 있는 몇 개의 의미있는 통계량(통계치)으로 요약하는 것이 자주 사용된다. 왜냐하면 앞서 <a href="ch-statisics.html#ch:statisics">1</a> 장에서도 설명하였듯이 데이터를 나열하는 것만으로는 데이터의 특성을 파악하기 힘들기 때문이다. 주로 사용되는 수치형 변수의 통계량은 다음과 같다.</p>
<ul>
<li>분포의 중심 경향을 보여주는 통계량: 평균(mean), 중위수(meidan)</li>
<li>분포의 펴진 정도를 보여주는 통계량: 분산(variance), 표준 편차(standard deviation), 범위(range), 분위수(quantile)와 IQR(inter-quartile range)</li>
<li>분포의 치우친 정도(비대칭성)를 보여주는 통계량: 왜도(skewness), 분위수(quantile)</li>
<li>분파의 중앙 집중도를 보여주는 통계량: 첨도(kurtosis)</li>
</ul>
<div id="중심-경향을-보여주는-통계량" class="section level4" number="8.1.1.1">
<h4><span class="header-section-number">8.1.1.1</span> 중심 경향을 보여주는 통계량</h4>
<p>표 <a href="ch-numericDescStat.html#tab:scoreMeanByYear">8.1</a>는 <code>course</code> 데이터의 총점(<code>score</code>)에 대해 학년별 평균을 구한 예이다. 결과에서 보듯이 학년이 올라갈수록 평균 점수가 올라가는 경향이 있음을 쉽게 파악할 수 있다. 이렇듯 여러 집단을 비교할 때 평균처럼 중심값을 구하여 비교하는 것이 전체적인 경향을 파악하기 쉽다.</p>
<table>
<caption><span id="tab:scoreMeanByYear">Table 8.1: </span>course 데이터의 총점의 학년별 평균</caption>
<thead>
<tr class="header">
<th align="left">year</th>
<th align="right">mean_score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="right">10.00000</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">71.44781</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="right">75.40667</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="right">80.25000</td>
</tr>
</tbody>
</table>
<div id="평균" class="section level5 unnumbered">
<h5>평균</h5>
<p>수치형 변수 <span class="math inline">\(x\)</span>의 평균을 <span class="math inline">\(\bar{x}\)</span>라 하면 평균은 다음처럼 계산된다.</p>
<p><span class="math display">\[
\bar{x} = \frac{x_1 + x_2 + \cdots + x_n}{n}.
\]</span></p>
<p>단, <span class="math inline">\(x_i\)</span>는 <span class="math inline">\(i\)</span>-번째 관측의 <span class="math inline">\(x\)</span> 변수의 값이고, <span class="math inline">\(n\)</span>은 관측 개수.</p>
<p>그런데 평균은 다음과 같은 단점과 장점이 있다.</p>
<ul>
<li>관측된 값을 모두 더하여 관측 개수로 나누다 보니, 예외적으로 크고 작은 수치에 의해 영향을 크게 받는다.</li>
<li>여러 집단으로 나누어 평균을 구한 후, 집단의 평균을 집단의 관측 개수로 가중 평균을 하면 전체 집단의 평균을 구할 수 있다.</li>
</ul>
<p><strong>R</strong>은 평균은 <code>mean()</code> 함수로 구한다.</p>
<pre><code>mean(수치벡터)
mean(데이터프레임$수치형변수)</code></pre>
<p>다음 예에서 예외적인 수치가 들어감에 따라 평균이 크게 바뀌는 것을 관찰할 수 있다.</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="ch-numericDescStat.html#cb495-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x <span class="ot">&lt;-</span> <span class="dv">46</span><span class="sc">:</span><span class="dv">55</span> ; y <span class="ot">&lt;-</span> <span class="fu">c</span>(x, <span class="dv">1000</span>) ; z <span class="ot">&lt;-</span> <span class="fu">c</span>(x, <span class="sc">-</span><span class="dv">1000</span>)</span>
<span id="cb495-2"><a href="ch-numericDescStat.html#cb495-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x; <span class="fu">mean</span>(x)</span></code></pre></div>
<pre><code> [1] 46 47 48 49 50 51 52 53 54 55</code></pre>
<pre><code>[1] 50.5</code></pre>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="ch-numericDescStat.html#cb498-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y; <span class="fu">mean</span>(y)</span></code></pre></div>
<pre><code> [1]   46   47   48   49   50   51   52   53   54   55 1000</code></pre>
<pre><code>[1] 136.8182</code></pre>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="ch-numericDescStat.html#cb501-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z; <span class="fu">mean</span>(z)</span></code></pre></div>
<pre><code> [1]    46    47    48    49    50    51    52    53    54    55 -1000</code></pre>
<pre><code>[1] -45</code></pre>
<p>다음은 <code>course</code> 데이터에서 총점의 평균을 구한 결과이다.</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb504-1"><a href="ch-numericDescStat.html#cb504-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">library</span>(bizstatp)</span>
<span id="cb504-2"><a href="ch-numericDescStat.html#cb504-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">mean</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 71.46089</code></pre>
<p>그런데 중간고사에 대한 평균을 구해보면 다음과 같은 결과를 볼 수 있다.</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb506-1"><a href="ch-numericDescStat.html#cb506-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">mean</span>(course<span class="sc">$</span>mid)</span></code></pre></div>
<pre><code>[1] NA</code></pre>
<p>이러한 결과가 나온 이유는 한 학생이 중간고사에 불참하여 이 학생의 중간고사 점수가 결측(<code>NA</code>)되었기 때문에 평균을 계산할 수 없다는 뜻에서 <code>NA</code>가 나온 것이다. 평균을 계산할 때 결측치를 제외하고 평균을 구하려면 다음처럼 <code>na.rm</code> 인수를 <code>TRUE</code>로 설정하여 구한다. 앞으로 볼 많은 <strong>R</strong> 통계 함수들도 결측치를 제외하고 계산할 때 동일한 인수를 사용하는 경우가 많다.</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb508-1"><a href="ch-numericDescStat.html#cb508-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">mean</span>(course<span class="sc">$</span>mid, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>[1] 61.61364</code></pre>
</div>
</div>
<div id="중위수중앙값" class="section level4 unnumbered">
<h4>중위수(중앙값)</h4>
<p>중위수는 관측값을 크기 순으로 나열하였을 때 가운데 중앙에 위치하는 값을 의미한다. 관측값의 개수 n이 홀수이면 (n+1)/2 번째 값이 중위수이고 n이 짝수이면 n/2 번째 값과 n/2 + 1번째 값의 평균이 중위수가 된다.
따라서 중위수보다 작은 값의 수와 중위수보다 큰 값의 수가 같아진다.
평균은 매우 큰 이상치에 영향을 많이 받는 반면, 중위수는 한 두 개의 매우 큰 값이나 작은 값에 영향을 크게 받지 않는 장점이 있다. 그러나 평균처럼 전체 관측이 여러 집단으로 나뉘어져 있을 때 각 집단의 중위수로 전체 관측의 중위수를 구할 수 있는 방법은 없다.</p>
<p><strong>R</strong>에서 중위수는 <code>median()</code> 함수로 구한다.</p>
<pre><code>median(수치벡터)
median(데이터프레임$수치변수)</code></pre>
<p>다음 예에서 예외적인 수치가 있어도 중위수는 크게 변화하지 않음을 볼 수 있다.</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="ch-numericDescStat.html#cb511-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x; <span class="fu">median</span>(x)</span></code></pre></div>
<pre><code> [1] 46 47 48 49 50 51 52 53 54 55</code></pre>
<pre><code>[1] 50.5</code></pre>
<div class="sourceCode" id="cb514"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb514-1"><a href="ch-numericDescStat.html#cb514-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y; <span class="fu">median</span>(y)</span></code></pre></div>
<pre><code> [1]   46   47   48   49   50   51   52   53   54   55 1000</code></pre>
<pre><code>[1] 51</code></pre>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb517-1"><a href="ch-numericDescStat.html#cb517-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z; <span class="fu">median</span>(z)</span></code></pre></div>
<pre><code> [1]    46    47    48    49    50    51    52    53    54    55 -1000</code></pre>
<pre><code>[1] 50</code></pre>
<p>다음은 course` 데이터에서 총점의 중위수를 구한 결과이다.</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb520-1"><a href="ch-numericDescStat.html#cb520-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">median</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 72.6</code></pre>
<p>평균과 마찬자지로 결측치가 있는 관측을 제외하고 중위수를 구하려면 <code>na.rm</code> 인수를 사용한다.</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb522-1"><a href="ch-numericDescStat.html#cb522-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">median</span>(course<span class="sc">$</span>mid)</span></code></pre></div>
<pre><code>[1] NA</code></pre>
<div class="sourceCode" id="cb524"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb524-1"><a href="ch-numericDescStat.html#cb524-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">median</span>(course<span class="sc">$</span>mid, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>[1] 59</code></pre>
</div>
<div id="퍼진-경향을-보여주는-통계량" class="section level4" number="8.1.1.2">
<h4><span class="header-section-number">8.1.1.2</span> 퍼진 경향을 보여주는 통계량</h4>
<p>수치형 변수를 파악할 때 중심경향을 파악하는 것만으로는 변수의 특성을 충분히 파악하기 힘들다. 수치 변수의 값이 중심으로부터 어느 정도 퍼져 있는지를 알 수 없기 때문이다. 수치형 분포의 퍼진 정도를 파악하는 통계량으로 분산, 표준편차, 분위수 등이 있다.</p>
<div id="분산과-표준편차" class="section level5 unnumbered">
<h5>분산과 표준편차</h5>
<p>분산(variance)과 표준편차(standard deviation)는 관측값들이 평균으로부터 얼마나 떨어져 있는지를 측정하는 통계량으로 다음과 같이 계산된다. 변수 <span class="math inline">\(x\)</span>에 대한 분산을 <span class="math inline">\(s^2_x\)</span>이라고 하면 <span class="math inline">\(s^2_x\)</span>은 다음처럼 계산된다.</p>
<p><span class="math display">\[
s^2_x = \frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2
\]</span></p>
<p>표준편차는 분산에 제곱근을 씌운 것으로 관측값과 분산을 평균과 동일한 축적으로 변환시킨다. 따라서 개략적으로 표현하자면 표준편차는 관측값이 평균에서 평균적으로 얼마나 떨어져 있는지를 나타낸다고 할 수 있다. 변수 <span class="math inline">\(x\)</span>에 대한 표준편차를 <span class="math inline">\(s_x\)</span>라고 하면 <span class="math inline">\(s_x\)</span>는 다음처럼 계산된다.</p>
<p><span class="math display">\[
s_x = \sqrt{s_x^2} = \sqrt{ \frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2 }.
\]</span></p>
<p><strong>R</strong>에서 분산과 표준편차는 <code>var()</code>와 <code>sd()</code> 함수로 구한다.</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb526-1"><a href="ch-numericDescStat.html#cb526-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">var</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 220.4966</code></pre>
<div class="sourceCode" id="cb528"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb528-1"><a href="ch-numericDescStat.html#cb528-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">sd</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 14.84913</code></pre>
<p>분산과 표준편차는 평균과 비슷한 성질을 가지고 있다. 관측치가 여러 집단으로 나누어져 있으면 각 집단의 분산을 가중 평균하여 전체의 분산을 계산할 수 있다. 그러나 평균과 마찬가지로 분산과 표준편차는 예외적인 값에 크게 영향을 받는다.</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb530-1"><a href="ch-numericDescStat.html#cb530-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x; <span class="fu">sd</span>(x)</span></code></pre></div>
<pre><code> [1] 46 47 48 49 50 51 52 53 54 55</code></pre>
<pre><code>[1] 3.02765</code></pre>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="ch-numericDescStat.html#cb533-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y; <span class="fu">sd</span>(y)</span></code></pre></div>
<pre><code> [1]   46   47   48   49   50   51   52   53   54   55 1000</code></pre>
<pre><code>[1] 286.2994</code></pre>
<div class="sourceCode" id="cb536"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb536-1"><a href="ch-numericDescStat.html#cb536-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z; <span class="fu">sd</span>(z)</span></code></pre></div>
<pre><code> [1]    46    47    48    49    50    51    52    53    54    55 -1000</code></pre>
<pre><code>[1] 316.7507</code></pre>
<p>표준편차는 관측치의 측정단위로 관측치가 평균에서 평균적으로 얼마나 퍼져 있는가를 측정한다. 그렇기 때문에 측정단위가 다른 데이터의 퍼짐경향을 서로 비교하기가 어렵다. 이를 보완하여 측정단위와 무관하게 퍼진 정도를 비교하는 방법이 변동계수(coefficient of variance)를 사용하는 것이다. 변동계수 <span class="math inline">\(c_{x}\)</span>는 다음처럼 표준편차를 평균으로 나누어 구한다. 그러므로 분자와 분모의 측정단위가 상쇄되어서, 변동계수를 사용하면 평균 대비 표준편차의 상대적 크기를 서로 비교할 수 있다.
<span class="math display">\[
c_x = s_x / \bar{x}.
\]</span></p>
<p>다음은 <code>course</code> 데이터에서 중간고사, 기말고사, 최종평가 점수의 변동계수를 구해본 예이다. 다음 결과에서 중간고사, 기말고사, 최종평가 점수 순으로 퍼짐경향이 줄어들었음을 볼 수 있다. 중간 및 기말고사에 결측치 <code>NA</code>가 있기 때문에 이를 제외하고 표준편차와 평균을 구할 때 <code>na.rm = TRUE</code> 인수를 사용하였다.</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="ch-numericDescStat.html#cb539-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">sd</span>(course<span class="sc">$</span>mid, <span class="at">na.rm=</span>T) <span class="sc">/</span> <span class="fu">mean</span>(course<span class="sc">$</span>mid, <span class="at">na.rm=</span>T)       <span class="co"># 중간고사의 변동계수</span></span></code></pre></div>
<pre><code>[1] 0.3324946</code></pre>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="ch-numericDescStat.html#cb541-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">sd</span>(course<span class="sc">$</span>final, <span class="at">na.rm=</span>T) <span class="sc">/</span> <span class="fu">mean</span>(course<span class="sc">$</span>final, <span class="at">na.rm=</span>T)   <span class="co"># 기말고사의 변동계수</span></span></code></pre></div>
<pre><code>[1] 0.2891162</code></pre>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="ch-numericDescStat.html#cb543-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">sd</span>(course<span class="sc">$</span>score) <span class="sc">/</span> <span class="fu">mean</span>(course<span class="sc">$</span>score)                     <span class="co"># 총점의 변동계수</span></span></code></pre></div>
<pre><code>[1] 0.2077938</code></pre>
</div>
<div id="분위수quantile와-iqr" class="section level5 unnumbered">
<h5>분위수(quantile)와 IQR</h5>
<p>평균과 마찬가지로 분산과 표준편차는 극단적인 한 두 값에 의해 영향을 많이 받는다.
사분위수(quartiles) 같은 분위수(quantile)를 사용하여 수치 분포의 퍼진 정도를 파악하면 중위수와 마찬가지로 극단적 이상치의 영향을 덜 받는다.
분위수는 관측값을 크기 순으로 오름차순으로 나열한 후 <span class="math inline">\(q\)</span> 등분할 때, 이 등분의 경계가 되는 <span class="math inline">\(q-1\)</span> 개의 수를 q분위수라고 한다. 예를 들어, 사분위수는 관측값을 크기 순으로 나열한 후 4 등분하는 그 경계가 되는 3 개의 수를 말한다. 마찬가지로 십분위수는 관측값을 10 등분하는 그 경계가 되는 9 개의 수를 말한다.
q분위수 중 가장 작은 수부터, 1-q분위수, 2-q분위수, …, (q-1)-q분위수라고 한다.
따라서 1-사분위수(1Q)는 관측치를 하위 25%와 상위 75%를 나누는 수이며, 2-사분위수(2Q)는 중위수를 의미하며, 3-사분위수(3Q)는 하위 75%와 상위 25%를 나누는 수이다.</p>
<p>R에서는 <code>quantile()</code> 함수를 사용하여 분위수를 구한다. 다음과 같이 <code>quantile()</code> 함수에 수치형 변수만 전달하면, 수치형 변수의 사분위수와 함께, 최소(0%), 최대 값(100%)을 출력한다.</p>
<pre><code>quantile(수치형벡터)
quantile(데이터프레임$수치형변수)</code></pre>
<p>다음 예에서 최소, 최대값을 제외하고 사분위수는 극단적 이상치에 영향을 덜 받는 것을 확인할 수 있다.</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="ch-numericDescStat.html#cb546-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x; <span class="fu">quantile</span>(x)</span></code></pre></div>
<pre><code> [1] 46 47 48 49 50 51 52 53 54 55</code></pre>
<pre><code>   0%   25%   50%   75%  100% 
46.00 48.25 50.50 52.75 55.00 </code></pre>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="ch-numericDescStat.html#cb549-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y; <span class="fu">quantile</span>(y)</span></code></pre></div>
<pre><code> [1]   46   47   48   49   50   51   52   53   54   55 1000</code></pre>
<pre><code>    0%    25%    50%    75%   100% 
  46.0   48.5   51.0   53.5 1000.0 </code></pre>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="ch-numericDescStat.html#cb552-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z; <span class="fu">quantile</span>(z)</span></code></pre></div>
<pre><code> [1]    46    47    48    49    50    51    52    53    54    55 -1000</code></pre>
<pre><code>     0%     25%     50%     75%    100% 
-1000.0    47.5    50.0    52.5    55.0 </code></pre>
<p>다음은 <code>course</code> 데이터의 총점과 중간고사 변수에 대한 사분위수를 구한 예이다. 중간고사는 결측치가 있으므로 <code>na.rm</code> 인수로 결측치를 제외하고 사분위수를 구하였다. 사분위수를 확인해보면 분포의 중심이 되는 50% 데이터가 어느 구간에 퍼져 있고, 대칭적인지 비대칭적인지도 파악할 수 있다. 중간고사 데이터를 보면 1사분위수와 3사분위수 사이의 50% 데이터가 약 45점에서 80점 사이에 분포되어 있고, 중위수가 약 60점인 것으로 볼 때 상위 점위의 꼬리가 긴 분포 형태임을 짐작할 수 있다.</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="ch-numericDescStat.html#cb555-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">quantile</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>   0%   25%   50%   75%  100% 
10.00 61.50 72.60 80.49 95.00 </code></pre>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb557-1"><a href="ch-numericDescStat.html#cb557-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">quantile</span>(course<span class="sc">$</span>mid, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>   0%   25%   50%   75%  100% 
27.00 45.50 59.00 79.75 97.00 </code></pre>
<p><code>quantile()</code> 함수의 <code>probs</code> 인수에 [0, 1] 사이의 값을 전달하면, 관측치를 순서로 나열했을 때 해당 순위의 값을 출력한다. 예를 들어 다음처럼 0.5를 전달하면 작은 값부터 시작하여 순위가 50%인 값이, 0.25를 전달하면 순위가 25%인 값이 출력된다.</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="ch-numericDescStat.html#cb559-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">quantile</span>(course<span class="sc">$</span>score, <span class="at">probs =</span> <span class="fl">0.5</span>)   <span class="co"># 중위수</span></span></code></pre></div>
<pre><code> 50% 
72.6 </code></pre>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="ch-numericDescStat.html#cb561-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">quantile</span>(course<span class="sc">$</span>score, <span class="at">probs =</span> <span class="fl">0.25</span>)  <span class="co"># 1-사분위수</span></span></code></pre></div>
<pre><code> 25% 
61.5 </code></pre>
<p><code>probs</code>에 다음처럼 여러 값을 입력할 수 있다. 다음은 5분위수와 10분위수를 구한 예이다.</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb563-1"><a href="ch-numericDescStat.html#cb563-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">quantile</span>(course<span class="sc">$</span>score, <span class="at">probs =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.2</span>))</span></code></pre></div>
<pre><code>    0%    20%    40%    60%    80%   100% 
10.000 60.330 66.942 74.526 83.166 95.000 </code></pre>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb565-1"><a href="ch-numericDescStat.html#cb565-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">quantile</span>(course<span class="sc">$</span>score, <span class="at">probs =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.1</span>))</span></code></pre></div>
<pre><code>    0%    10%    20%    30%    40%    50%    60%    70%    80%    90%   100% 
10.000 58.498 60.330 64.412 66.942 72.600 74.526 79.920 83.166 88.984 95.000 </code></pre>
<p>사분위수를 가지고 관측값의 퍼진경향을 측정하는 통계량이 IQR(interquartile range)이다. IQR은 3사분위수와 1사분위수의 차이로 계산된다. 즉, 중심에 있는 50% 데이터가 서로 얼마나 멀리 퍼져 있는지를 측정한다. 중심에 있는 50% 데이터로 퍼진 정도를 측정하므로, 예외적으로 큰 값이나 작은 값은 IQR에 영향을 크게 주지 못한다.</p>
<p><strong>R</strong>에서 IQR은 <code>IQR()</code> 함수로 구한다. 다음 예에서 예외적인 값이 IQR에 크게 영향을 주지 않는다는 것을 확인할 수 있다.</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb567-1"><a href="ch-numericDescStat.html#cb567-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x; <span class="fu">IQR</span>(x)</span></code></pre></div>
<pre><code> [1] 46 47 48 49 50 51 52 53 54 55</code></pre>
<pre><code>[1] 4.5</code></pre>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb570-1"><a href="ch-numericDescStat.html#cb570-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y; <span class="fu">IQR</span>(y)</span></code></pre></div>
<pre><code> [1]   46   47   48   49   50   51   52   53   54   55 1000</code></pre>
<pre><code>[1] 5</code></pre>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb573-1"><a href="ch-numericDescStat.html#cb573-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z; <span class="fu">IQR</span>(z)</span></code></pre></div>
<pre><code> [1]    46    47    48    49    50    51    52    53    54    55 -1000</code></pre>
<pre><code>[1] 5</code></pre>
<p><code>course</code> 데이터의 중간, 기말, 총점의 IQR을 구해본 결과 변동계수와 마찬가지로 중간, 기말, 총점 순으로 퍼짐경향이 줄어드는 것을 볼 수 있다.</p>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb576-1"><a href="ch-numericDescStat.html#cb576-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">IQR</span>(course<span class="sc">$</span>mid, <span class="at">na.rm=</span>T); <span class="fu">IQR</span>(course<span class="sc">$</span>final, <span class="at">na.rm=</span>T); <span class="fu">IQR</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 34.25</code></pre>
<pre><code>[1] 29.5</code></pre>
<pre><code>[1] 18.99</code></pre>
</div>
<div id="중앙값-절대-편차" class="section level5 unnumbered">
<h5>중앙값 절대 편차</h5>
<p>중앙값 절대 편차(Median Absolute Deviaton)는 IQR보다 더 안정적으로 데이터의 퍼진 정도를 측정하는 통계량이다.
중앙값 절대 편차는 다음 방법으로 계산된다.</p>
<ul>
<li>절대 편차 계산: 관측값이 중위수에서 얼마나 멀리 떨어져 있는지 편차를 계산한 후 절대값을 취한다.</li>
<li>절대 편차의 중위수(중앙값)를 계산한다.</li>
<li>분포가 정규분포를 따를 때의 표준편차의 추정치로 사용할 수 있도록 절대 편차의 중위수에 1.4826이라는 상수를 곱 한다.</li>
</ul>
<p>다음은 앞의 설명대로 중앙값 절대 편차를 계산한 예이다.</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb580-1"><a href="ch-numericDescStat.html#cb580-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x <span class="sc">-</span> <span class="fu">median</span>(x) </span></code></pre></div>
<pre><code> [1] -4.5 -3.5 -2.5 -1.5 -0.5  0.5  1.5  2.5  3.5  4.5</code></pre>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb582-1"><a href="ch-numericDescStat.html#cb582-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">abs</span>(x <span class="sc">-</span> <span class="fu">median</span>(x))</span></code></pre></div>
<pre><code> [1] 4.5 3.5 2.5 1.5 0.5 0.5 1.5 2.5 3.5 4.5</code></pre>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb584-1"><a href="ch-numericDescStat.html#cb584-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fl">1.4826</span> <span class="sc">*</span> <span class="fu">median</span>(<span class="fu">abs</span>(x <span class="sc">-</span> <span class="fu">median</span>(x)))</span></code></pre></div>
<pre><code>[1] 3.7065</code></pre>
<p><strong>R</strong>은 이러한 계산을 해서 중앙값 절대 편차를 구해주는 <code>mad()</code>라는 함수를 가지고 있다.</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="ch-numericDescStat.html#cb586-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">mad</span>(x)</span></code></pre></div>
<pre><code>[1] 3.7065</code></pre>
<p>다음은 <code>course</code> 데이터의 중간, 기말, 총점의 중위수 절대 편차를 구한 결과이다.</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="ch-numericDescStat.html#cb588-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">mad</span>(course<span class="sc">$</span>mid, <span class="at">na.rm=</span>T); <span class="fu">mad</span>(course<span class="sc">$</span>final, <span class="at">na.rm=</span>T); <span class="fu">mad</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 25.2042</code></pre>
<pre><code>[1] 22.9803</code></pre>
<pre><code>[1] 13.06171</code></pre>
</div>
<div id="범위range" class="section level5 unnumbered">
<h5>범위(range)</h5>
<p>수치형 변수의 퍼진 정도를 파악할 때 최소값과 최대값을 사용하여 수치형 변수의 범위를 파악하는 방법을 사용하기도 한다. R에서는 <code>range()</code> 함수를 사용하여 최소값과 최대값을 구할 수 있다. <code>min()</code>과 <code>max()</code> 함수를 사용하면 최소값과 최대값만 각각 구할 수도 있다.</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="ch-numericDescStat.html#cb592-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">range</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 10 95</code></pre>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="ch-numericDescStat.html#cb594-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">max</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 95</code></pre>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="ch-numericDescStat.html#cb596-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">min</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 10</code></pre>
<p>범위는 매우 직관적이고 간편하게 계산할 수 있으나 다음 예처럼 한 두 개의 예외적 데이터가 있으면 크게 그 값이 변하는 약점이 있다.</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="ch-numericDescStat.html#cb598-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">range</span>(x)</span></code></pre></div>
<pre><code>[1] 46 55</code></pre>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="ch-numericDescStat.html#cb600-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">range</span>(y)</span></code></pre></div>
<pre><code>[1]   46 1000</code></pre>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="ch-numericDescStat.html#cb602-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">range</span>(z)</span></code></pre></div>
<pre><code>[1] -1000    55</code></pre>
<p>지금까지 배운 중심 경향과 퍼진 정도를 보여주는 통계량을 <code>course</code> 데이터의 <code>score</code> 변수에 적용하여 비교한 결과이다.</p>
<table>
<thead>
<tr class="header">
<th align="right">mean</th>
<th align="right">median</th>
<th align="right">sd</th>
<th align="right">IQR</th>
<th align="right">mad</th>
<th align="right">range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">71.46089</td>
<td align="right">72.6</td>
<td align="right">14.84913</td>
<td align="right">18.99</td>
<td align="right">13.06171</td>
<td align="right">85</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="분포의-치우친-정도를-보여주는-통계량" class="section level4" number="8.1.1.3">
<h4><span class="header-section-number">8.1.1.3</span> 분포의 치우친 정도를 보여주는 통계량</h4>
<p>왜도(skewness)는 수치형 변수의 분포가 치우친 정도를 측정하는 통계량이다. 왜도는 다음 식으로 계산된다.<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a></p>
<p><span class="math display">\[
Skewness = \frac{1}{n} \sum_{i=1}^{n} \left( \frac{x_i - \bar{x}}{s} \right)^3
\]</span></p>
<p>왜도를 사용하면 분포의 대칭성과 비대칭성을 확인할 수 있다.</p>
<ul>
<li>좌우 대칭인 분포에서는 왜도는 0이 된다.</li>
<li>분포가 왼쪽으로 치우쳐 있으면(오른쪽으로 긴 꼬리를 가지면) 왜도는 양의 값이 된다.</li>
<li>분포가 오른쪽으로 치우쳐 있으면(왼쪽으로 긴 꼬리를 가지면) 왜도는 음의 값이 된다.</li>
</ul>
<p><strong>R</strong>의 기본 기능에는 왜도를 계산하는 함수가 없다. 왜도를 계산해 주는 함수를 가진 패키지로는 <code>moments</code>, <code>fBasics</code>, <code>psych</code> 등이 있다. 이 책에서는 <code>psych</code> 패키지를 사용한다. 먼저 <code>psych</code> 패키지는 <code>bizstatp</code> 패키지를 설치하였다면 설치가 이미 되었을 것이다. <code>psych</code>는 <code>ggplot2</code> 패키지와 충돌하는 이름들이 있어서 <code>library()</code> 함수로 <code>psych</code> 패키지를 메모리에 적재하지 않고 다음처럼 <code>::</code> 연산자로 바로 <code>psych</code> 패키지의 <code>skew()</code> 함수를 사용하도록 한다.</p>
<p>다음 예는 대칭인 경우 오른쪽에 긴 꼬리가 있는 경우, 왼쪽으로 긴 꼬리가 있는 경우의 왜도가 어떻게 계산되는지를 보여준다.</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="ch-numericDescStat.html#cb604-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x; psych<span class="sc">::</span><span class="fu">skew</span>(x)</span></code></pre></div>
<pre><code> [1] 46 47 48 49 50 51 52 53 54 55</code></pre>
<pre><code>[1] 0</code></pre>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="ch-numericDescStat.html#cb607-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> y; psych<span class="sc">::</span><span class="fu">skew</span>(y)</span></code></pre></div>
<pre><code> [1]   46   47   48   49   50   51   52   53   54   55 1000</code></pre>
<pre><code>[1] 2.466456</code></pre>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="ch-numericDescStat.html#cb610-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> z; psych<span class="sc">::</span><span class="fu">skew</span>(z)</span></code></pre></div>
<pre><code> [1]    46    47    48    49    50    51    52    53    54    55 -1000</code></pre>
<pre><code>[1] -2.466539</code></pre>
<p>다음은 <code>course</code> 데이터의 총점, 중간고사, 기말고사의 왜도를 계산한 결과이다. 주의할 점은 <code>psych</code> 패키지의 <code>skew()</code> 함수는 지금까지 본 <strong>R</strong>의 기본 함수와는 달리 결측치가 있을 때 <code>na.rm</code> 인수를 지정하지 않아도 자동으로 결측치를 제외하고 왜도를 계산한다는 점이다.</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="ch-numericDescStat.html#cb613-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">skew</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] -1.296142</code></pre>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="ch-numericDescStat.html#cb615-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">skew</span>(course<span class="sc">$</span>mid)</span></code></pre></div>
<pre><code>[1] 0.2409169</code></pre>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="ch-numericDescStat.html#cb617-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">skew</span>(course<span class="sc">$</span>final)</span></code></pre></div>
<pre><code>[1] -0.02417389</code></pre>
<p>총점은 왼쪽으로 꼬리가 긴 분포이고, 중간과 기말은 비교적 대칭인 분포임을 알 수 있다. 중간과 기말은 시험을 안 본 학생은 제외하고 계산이 되어 비교적 대칭인 분포였고, 총점은 시험을 안 본 학생이 총점에 포함되어 있어서 이 학생에 의해 왼쪽으로 꼬리가 긴 비대칭적인 분포처럼 왜도가 계산 되었다. 뒤에서 그래프를 통해서 이 사실을 다시 확인할 수 있을 것이다.</p>
<p>이처럼 왜도도 평균과 분산처럼 예외적인 값에 영향을 크게 받는 단점이 있다. 그러므로 왜도는 값만으로 변수의 분포를 단정지으면 안되고, 그래프를 사용하여 분포의 모양도 함께 확인해 보아야 한다. 다음처럼 <code>na.omit()</code> 함수로 결측치가 있는 행은 제외하고 다시 총점의 왜도를 계산해 보면 분포가 크게 비대칭적이지는 않음을 확인할 수 있다.</p>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="ch-numericDescStat.html#cb619-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> course_omitted <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(course)</span>
<span id="cb619-2"><a href="ch-numericDescStat.html#cb619-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">skew</span>(course_omitted<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 0.2385544</code></pre>
</div>
<div id="분포의-뾰족함을-보여주는-통계량" class="section level4" number="8.1.1.4">
<h4><span class="header-section-number">8.1.1.4</span> 분포의 뾰족함을 보여주는 통계량</h4>
<p>첨도(kurtosis)는 분포가 얼마나 뾰족한지를 나타낸다. 첨도는 다음 식으로 계산된다.<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a></p>
<p><span class="math display">\[
kurtosis =  \frac{1}{n} \sum_{i=1}^{n} \left( \frac{x_i - \bar{x}}{s} \right)^4  - 3
\]</span></p>
<p>첨도를 사용하면 분포의 뾰족한 정도를 확인할 수 있다.</p>
<ul>
<li>정규분포에서는 첨도는 0이 된다.</li>
<li>분포가 정규분포보다 더 뾰족하면 첨도는 양의 값이 된다.</li>
<li>분포가 정규분포보다 덜 뾰족하면(더 평평하면) 첨도는 음의 값이 된다.</li>
</ul>
<p><strong>R</strong>의 기본 기능에는 첨도를 계산하는 함수가 없다. 따라서 첨도의 계산에는 <code>psych</code> 패키지의 <code>kurtosi()</code> 함수를 사용하도록 한다. 다음은 <code>course</code> 데이터의 총점, 중간고사, 기말고사의 첨도를 계산한 결과이다. 왜도를 계산하는 <code>skew()</code>와 마찬가지로 결측치를 자동으로 제외하고 첨도를 계산하는 것을 확인할 수 있다.</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="ch-numericDescStat.html#cb621-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">kurtosi</span>(course<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] 4.29198</code></pre>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="ch-numericDescStat.html#cb623-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">kurtosi</span>(course<span class="sc">$</span>mid)</span></code></pre></div>
<pre><code>[1] -1.313393</code></pre>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="ch-numericDescStat.html#cb625-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">kurtosi</span>(course<span class="sc">$</span>final)</span></code></pre></div>
<pre><code>[1] -0.957484</code></pre>
<p>중간고사와 기말고사의 분포는 정규분포보다 더 평평한 분포이지만, 총점은 더 뾰족한 분포로 계산되었다. 총점이 매우 뾰족한 분포로 나온 이유는 시험을 안 본 예외적인 학생 때문이다. 이처럼 첨도도 평균, 분산, 왜도처럼 이상치의 영향을 크게 받는다. 시험을 안 본 학생을 제외하고 다시 총점의 첨도를 계산해 보면 정규분포보다 뾰족한 분포가 아니라 평평한 분포를 가지고 있음을 알 수 있다.</p>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="ch-numericDescStat.html#cb627-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">kurtosi</span>(course_omitted<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>[1] -1.122113</code></pre>
</div>
<div id="수치-변수의-기술통계량을-한-번에-파악하기" class="section level4" number="8.1.1.5">
<h4><span class="header-section-number">8.1.1.5</span> 수치 변수의 기술통계량을 한 번에 파악하기</h4>
<p><code>psych</code> 패키지의 <code>describe()</code> 함수는 수치 변수에 대한 다양한 기술통계량을 제공한다.</p>
<p>다음은 course의 다섯 번째에서 여덟 번째 열에 대하여 <code>psych</code> 패키지의 <code>describe()</code> 함수를 이용하여 다양한 기술통계량을 계산한 예이다. <code>skew()</code>나 <code>kurtosi()</code> 등의 다른 <code>psych</code> 패키지의 함수처럼 결측치는 자동으로 제외하고 통계량을 계산해 준다.</p>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="ch-numericDescStat.html#cb629-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(course[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>])</span></code></pre></div>
<pre><code>      vars  n  mean    sd median trimmed   mad min   max range  skew kurtosis
mid      1 44 61.61 20.49   59.0   61.03 25.20  27 97.00 70.00  0.24    -1.31
final    2 44 63.16 18.26   65.5   63.06 22.98  23 95.00 72.00 -0.02    -0.96
hw       3 45 83.37 13.36   84.3   85.41  4.45   0 91.33 91.33 -5.38    30.76
score    4 45 71.46 14.85   72.6   72.09 13.06  10 95.00 85.00 -1.30     4.29
        se
mid   3.09
final 2.75
hw    1.99
score 2.21</code></pre>
<p>네 개의 수치형 변수에 대한 통계량이 행별로 제시되어 있다. 평균(mean), 표준편차(sd), 중위수(median), 중앙값 절대 편차(mad), 최소값(min), 최대값(max), 범위(range), 왜도(skew), 첨도(kurtosis)는 이미 설명을 하였다. 결과에서 n 열은 결측치를 제외한 관측치 수를, trimmed 열은 양 극단의 수치를 일부 잘라내고 계산한 평균을, se 열은 평균의 표준 오차(standard error)를 의미한다. 표준오차는 <span class="math inline">\(se = sd / \sqrt{n}\)</span>으로 계산된다.</p>
</div>
<div id="도수분포표" class="section level4" number="8.1.1.6">
<h4><span class="header-section-number">8.1.1.6</span> 도수분포표</h4>
<p>한두 개의 통계량으로 수치형 변수의 특성을 파악하는 방법 외에도 수치형 변수의 전체적인 분포의 윤곽을 파악하려면 도수분포표를 사용하는 것이 좋다.
도수분포표는 수치를 계급이라 불리는 몇 개의 구간으로 나누어 구간 별로 관측 도수를 집계한 표를 의미한다. 히스토그램은 도수분포표를 시각적으로 표현한 것이다.
<strong>R</strong>에서 연속적인 수치형 변수에서 도수분포표를 만드는 방법은 <code>cut()</code> 함수로 수치형 변수를 구간으로 나눈 범주형 변수로 변환한 후, 변주형 변수의 빈도표를 만들 때 사용한 <code>table()</code>이나 <code>xtabs()</code> 함수를 이용하는 것이다.</p>
<p><code>cut()</code> 함수의 기본 문법은 다음과 같다.</p>
<pre><code>cut(수치 벡터, breaks = 구간을 나누는 점)</code></pre>
<p>다음은 <code>course</code> 데이터의 총점(<code>score</code>) 열을 <code>cut()</code> 함수를 이용하여 10점 단위의 구간으로 나누어 범주형 변수로 변환한 결과이다.</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="ch-numericDescStat.html#cb632-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> course<span class="sc">$</span>score</span></code></pre></div>
<pre><code> [1] 73.47 61.50 89.18 78.47 93.88 64.39 72.60 55.54 59.89 66.00 79.99 70.10
[13] 56.53 53.74 59.89 63.79 71.14 64.99 88.69 70.59 83.79 60.39 88.31 80.00
[25] 81.10 87.28 93.09 90.58 60.09 66.87 64.50 75.09 66.99 79.64 57.77 95.00
[37] 73.37 10.00 74.88 61.06 80.49 74.29 59.59 83.01 74.19</code></pre>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="ch-numericDescStat.html#cb634-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> grade <span class="ot">&lt;-</span> <span class="fu">cut</span>(course<span class="sc">$</span>score, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>))</span>
<span id="cb634-2"><a href="ch-numericDescStat.html#cb634-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> grade</span></code></pre></div>
<pre><code> [1] (70,80]  (60,70]  (80,90]  (70,80]  (90,100] (60,70]  (70,80]  (50,60] 
 [9] (50,60]  (60,70]  (70,80]  (70,80]  (50,60]  (50,60]  (50,60]  (60,70] 
[17] (70,80]  (60,70]  (80,90]  (70,80]  (80,90]  (60,70]  (80,90]  (70,80] 
[25] (80,90]  (80,90]  (90,100] (90,100] (60,70]  (60,70]  (60,70]  (70,80] 
[33] (60,70]  (70,80]  (50,60]  (90,100] (70,80]  (0,10]   (70,80]  (60,70] 
[41] (80,90]  (70,80]  (50,60]  (80,90]  (70,80] 
10 Levels: (0,10] (10,20] (20,30] (30,40] (40,50] (50,60] (60,70] ... (90,100]</code></pre>
<p>위 결과에서 볼 수 있듯이 <code>cut()</code> 함수는 첫째 인수로 숫자 벡터를 받고, <code>breaks</code> 인수로 관측값을 나눌 계급을 지정한다. 여기서는 0, 10, …, 90, 100으로 구성된 숫자 벡터를 지정하였으므로, (0,10], (10,20], (20,30], (30,40], (40,50], (50,60], (60,70], (70,80], (80,90], (90,100] 등 10 개의 계급이 만들어진다.
그러므로 73.47, 61.5 같은 수치값이 (70,80], (60,70] 같은 구간을 나타내는 범주로 변환된 것을 볼 수 있다.</p>
<p>범주형 변수로 변형되었으니 <code>cut()</code> 함수의 결과를 <code>table()</code> 함수에 전달하면 도수분포표를 구할 수 있다.</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="ch-numericDescStat.html#cb636-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">table</span>(grade)</span></code></pre></div>
<pre><code>grade
  (0,10]  (10,20]  (20,30]  (30,40]  (40,50]  (50,60]  (60,70]  (70,80] 
       1        0        0        0        0        7       11       14 
 (80,90] (90,100] 
       8        4 </code></pre>
<p>그런데 계급을 나누는 표시를 보면 (0,10]처럼 왼쪽은 괄호(<code>(</code>)로, 오른쪽은 대괄호(<code>]</code>)로 구간의 경계가 표시한 것을 볼 수 있다. 괄호는 개구간의 경계를 의미하여 해당 경계가 구간에 포함되지 않음을 의미하며, 대괄호는 폐구간의 경계를 의미하여 해당 경계가 구간에 포함된다는 것을 의미한다. 따라서 0 점은 (0,10] 구간에 포함되지 않지만, 10 점은 (0,10] 구간에 포함된다. 이는 경계가 어는 한 구간에만 포함되도록 하기 위한 것이다.</p>
<p><code>cut()</code>은 기본적으로 구간의 오른쪽 경계를 포함하고 왼쪽 경계를 포함하지 않도록 한다. 그런데 이렇게 하면 0점을 받은 데이터는 어느 구간에도 포함되지 않는 문제가 발생한다. 만약 <code>breaks</code>로 주어진 첫 번째 경계도 구간에 모두 포함시키려면 다음처럼 <code>include.lowest=TRUE</code>로 설정한다. 첫 번째 구간의 왼쪽 경계가 구간에 포함된 것을 볼 수 있다.</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="ch-numericDescStat.html#cb638-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> grade <span class="ot">&lt;-</span> <span class="fu">cut</span>(course<span class="sc">$</span>score, <span class="at">breaks=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span><span class="dv">100</span>, <span class="at">by=</span><span class="dv">10</span>), <span class="at">include.lowest =</span> <span class="cn">TRUE</span>) </span>
<span id="cb638-2"><a href="ch-numericDescStat.html#cb638-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">table</span>(grade)</span></code></pre></div>
<pre><code>grade
  [0,10]  (10,20]  (20,30]  (30,40]  (40,50]  (50,60]  (60,70]  (70,80] 
       1        0        0        0        0        7       11       14 
 (80,90] (90,100] 
       8        4 </code></pre>
<p>그런데 앞의 예에서 (80, 90], (90, 100] 등의 구간은 80점과 90점은 포함되지 않는다. 만약 구간의 왼쪽 경계를 포함하고 오른쪽 경계를 포함하지 않도록 하려면 <code>right=FALSE</code>로 설정한다.</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="ch-numericDescStat.html#cb640-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> grade <span class="ot">&lt;-</span> <span class="fu">cut</span>(course<span class="sc">$</span>score, <span class="at">breaks=</span><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span><span class="dv">100</span>, <span class="at">by=</span><span class="dv">10</span>),</span>
<span id="cb640-2"><a href="ch-numericDescStat.html#cb640-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>                     <span class="at">include.lowest =</span> <span class="cn">TRUE</span>, <span class="at">right=</span><span class="cn">FALSE</span>)</span>
<span id="cb640-3"><a href="ch-numericDescStat.html#cb640-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">table</span>(grade)</span></code></pre></div>
<pre><code>grade
  [0,10)  [10,20)  [20,30)  [30,40)  [40,50)  [50,60)  [60,70)  [70,80) 
       0        1        0        0        0        7       11       13 
 [80,90) [90,100] 
       9        4 </code></pre>
<p>다음은 <code>course</code> 데이터의 중간고사 점수를 20 점 간격으로 나누어 도수분포표를 만들어 본 결과이다.</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="ch-numericDescStat.html#cb642-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">table</span>(<span class="fu">cut</span>(course<span class="sc">$</span>mid, </span>
<span id="cb642-2"><a href="ch-numericDescStat.html#cb642-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>         <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">20</span>), </span>
<span id="cb642-3"><a href="ch-numericDescStat.html#cb642-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>         <span class="at">include.lowest =</span> T))</span></code></pre></div>
<pre><code>
  [0,20]  (20,40]  (40,60]  (60,80] (80,100] 
       0        7       15       11       11 </code></pre>
<p><strong>R</strong>에서 수치형 변수를 범주형 변수로 변환할 때, <strong>R</strong>의 기본 기능이 제공하는 <code>cut()</code> 함수 외에도 <code>ggplot2()</code> 패키지가 제공하는 다음 함수도 사용할 수 있다. 관심 있는 독자는 <strong>R</strong> 도움말 등을 참조하기 바란다.</p>
<ul>
<li><code>cut_width()</code>: 구간의 폭(<code>width</code>)을 지정하면 수치형 변수를 동일한 폭으로 구간을 나눈다.</li>
<li><code>cut_interval()</code>: 구간의 수(<code>n</code>)를 지정하면 수치형 변수를 동일한 폭으로 구간을 나눈다.</li>
<li><code>cut_number()</code>: 구간의 수(<code>n</code>)를 지정하면 수치형 변수를 구간에 동일한 수의 관측값이 들어가도록 구간을 나눈다.</li>
</ul>
</div>
</div>
<div id="수치형-변수-분포를-그래프로-요약하기" class="section level3" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> 수치형 변수 분포를 그래프로 요약하기</h3>
<p>수치형 변수를 수치로 요약하는 하는 방식은 분포의 중심, 퍼진 정도, 치우침 등을 대략적으로 파악할 수 있고 서로 다른 분포를 수치로 비교할 수 있는 장점이 있다.
그러나 분포의 세부적인 모양은 알 수 없다. 평균이 같은 분포이어도 서로 매우 다른 모양의 분포일 수 있다. 다음은 평균이 모두 2인 세 분포를 보여주고 있다. 평균이 동일하더라도 분포의 세부 모습은 크게 별할 수 있음을 볼 수 있다.</p>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-36-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>그러므로 수치로 요약하는 것뿐 아니라 그래프를 사용하여 수치형 분포의 세부적인 모양을 파악할 필요가 있다. 수치형 변수의 그래프를 살펴볼 때는 다음 사항을 주의깊게 살펴보아야 한다.</p>
<ul>
<li>분포는 어느 정도 대칭적인 모양을 가지고 있는가? 비대칭적인 모양이라면 변환을 사용하여 대칭적인 분포로 변환할 수 있는가?</li>
<li>분포는 대체적으로 하나의 봉우리를 가지고 있는가? 아니면 두 개 이상의 봉우리를 가지고 있는가?</li>
<li>분포는 정규분포와 비슷한 모양을 가지고 있는가, 아니면 전혀 다른 모양의 분포를 가지고 있는가?</li>
<li>분포에 다른 데이터와 동떨어져 있는 이상치는 없는가?</li>
</ul>
<div id="히스토그램" class="section level4" number="8.1.2.1">
<h4><span class="header-section-number">8.1.2.1</span> 히스토그램</h4>
<p>수치형 변수의 도수분포표에 따라 막대 그래프를 그린 것이 히스토그램이다. 히스토그램은 수치형 분포의 전체적인 윤관을 파악할 때 가장 많이 사용되는 그래프이다.</p>
<p><code>ggplot2</code> 패키지는 수치형 변수에 대한 히스토그램을 그려주는 <code>geom_histogram()</code> 함수를 제공한다. <code>geom_histogram()</code>의 기본적인 문법은 다음과 같다.</p>
<pre><code>ggplot(데이터, aes(x = 수치형변수)) + geom_histogram()</code></pre>
<p>다음은 <code>course</code> 데이터의 총점 변수에 대한 히스토그램을 그린 예이다.</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="ch-numericDescStat.html#cb645-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">library</span>(ggplot2)</span>
<span id="cb645-2"><a href="ch-numericDescStat.html#cb645-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> score)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-37-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>출력된 메시지에서 확인할 수 있듯이 기본적으로 수치 변수를 30 개의 구간으로 나누어 히스토그램을 그린다. 그러나 자동으로 부여된 구간 수가 수치형 변수를 표현하는 가장 좋은 방식이 아닐 수 있다. 위의 예에서는 45 개의 데이터밖에 없는데 구간이 30 개나 되어 한 구간에 매우 좋은 관측 도수밖에 없어서 우연적인 경향이 그래프로 나타날 수 있다. 그러므로 주어진 수치형 변수의 분포를 가장 잘 표현할 수 있도록 구간의 수를 조정해 볼 필요가 있다.</p>
<p><code>geom_histogram()</code> 함수는 <code>bins</code> 인수로 사용자가 원하는 구간의 수를 입력 받는다. 또는 다은은 15 개와 10개의 구간으로 히스토그램을 그린 예이다. 구간의 수를 조정함에 따라 히스토그램의 모습이 크게 바뀌는 것을 볼 수 있다. 그러므로 히스토그램을 그릴 때는 분포의 모양을 잘 표현할 수 있도록 구간의 수를 잘 조정해야 한다.</p>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="ch-numericDescStat.html#cb647-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> score)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">15</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-38-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="ch-numericDescStat.html#cb648-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> score)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-38-2.png" width="60%" style="display: block; margin: auto;" /></p>
<p><code>geom_histogram()</code> 함수는 <code>bins</code> 인수로 구간의 수를 지정할 수 있을 뿐 아니라, <code>binwidth</code> 인수를 이용하여 구간의 폭을 지정할 수도 있다. 다음은 구간의 폭이 10이 되돍 하여 총점의 히스토그램을 그린 예이다.</p>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="ch-numericDescStat.html#cb649-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> score)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-39-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>그런데 보통 구간의 크기를 지정하면 최소값과 최대값을 기준으로 <code>binwidth</code>의 길이로 구간을 나누므로, 나누어진 경계가 원하는 수치가 아닐 수 있다. 총점처럼 점수의 경우는 정확히 10, 20, …, 90, 100 등이 구간의 경계가 되는 것이 좋을 수 있다. 이처럼 원하는 경계에 따라 구간을 나누어 히스토그램을 그리려면, <code>cut()</code> 함수와 마찬가지로 <code>breaks</code> 인수를 이용하여 구간을 나누는 지점을 지정할 수 있다. <code>cut()</code> 함수와 다른 점은 <code>right</code>가 아니라 <code>closed</code> 인수를 사용하여 구간에 왼쪽 경계를 포함할지 오른쪽 경계를 포함할지를 지정하는 점이 다르다. (막대의 구간을 정확히 확인할 수 있도록 <code>scale_x_continous()</code> 함수로 가로축의 눈금을 조정하였다. 이 함수의 사용법은 R 프로그래밍의 <a href="https://kilhwan.github.io/rprogramming/ch-visualization.html#axes">그래프의 좌표축 조정</a> 절을 참조. )</p>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb650-1"><a href="ch-numericDescStat.html#cb650-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> score)) <span class="sc">+</span> </span>
<span id="cb650-2"><a href="ch-numericDescStat.html#cb650-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_histogram</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span><span class="dv">100</span>, <span class="at">by=</span><span class="dv">10</span>), <span class="at">closed=</span><span class="st">&quot;left&quot;</span>) <span class="sc">+</span></span>
<span id="cb650-3"><a href="ch-numericDescStat.html#cb650-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span><span class="dv">100</span>, <span class="at">by=</span><span class="dv">20</span>))</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-40-1.png" width="60%" style="display: block; margin: auto;" /></p>
</div>
<div id="확률-밀도-그래프" class="section level4" number="8.1.2.2">
<h4><span class="header-section-number">8.1.2.2</span> 확률 밀도 그래프</h4>
<p>수치형 변수는 통계에서 자주 정규분포를 따른다고 가정된다. 정규분포를 정확히 따르지 않더라도 정규분포처럼 대칭적인 분포로 가정되는 경우가 많다. 따라서 히스토그램 등으로 수치형 변수의 분포를 살펴볼 때 다음 두 가지 사항을 확인해 보아야 한다.</p>
<ul>
<li><p>수치형 변수의 분포가 한 쪽으로 치우친 분포는 아닌가? 특히 소득분포처럼 한 쪽으로 크게 치우친 분포의 경우는 분석을 수행할 때 로그 함수로 값을 변환하여 분석하는 게 좋을 때가 많다.</p></li>
<li><p>수치형 변수의 분포가 여러 봉우리는 가지고 있지는 않은가? 수치형 변수의 분포가 두 개 이상의 봉우리를 가지게 되면 수치형 변수의 값에 영향을 미치는 두 개 이상의 이질적인 집단이 있을 수 있다. 이러한 경우 하나의 집단으로 묶어서 분석을 할 때 좋은 결과를 얻기 힘든 경우가 많다. 따라서 분포에서 여러 봉우리를 만드는 원인이 무엇인지를 추적해 볼 필요가 있다.</p></li>
</ul>
<p>그런데 히스토그램은 막대의 간격에 따라 여러 다른 모습의 분포를 보여주므로 분포의 봉우리를 파악하기 어렵다. 이런 경우에는 수치형 변수의 분포에 대한 확률밀도를 추정하여 그래프로 그려보면 분포의 추세를 파악하기 쉽다. <code>ggplot2</code> 패키지의 <code>geom_density()</code> 함수는 수치형 변수에 대해 (추정된) 확률 밀도 그래프를 그려준다.</p>
<pre><code>ggplot(데이터, aes(x = 수치형변수)) + geom_density()</code></pre>
<p>다은은 <code>course</code> 데이터의 총점 열의 확률 밀도 그래프를 그린 예이다.</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="ch-numericDescStat.html#cb652-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> score)) <span class="sc">+</span> <span class="fu">geom_density</span>()</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-41-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>그런데 확률밀도 함수는 추정된 것이므로 실제 데이터와 잘 부합되는지 확인해 보아야 한다. 따라서 히스토그램과 확률밀도 함수를 같은 좌표평면에 나타내서 서로 부합되는지 확인하는 것이 필요하다.
그런데 히스토그램은 각 구간의 절대 빈도로 세로축의 축적을 사용하고, 확률 밀도는 함수의 밑의 면적이 1이 되도록 세로축의 축적을 사용한다. 그러므로 두 그래프가 좌표평면에서 같이 표현되려면 히스토그램을 절대 빈도가 아니라 면적이 1이 되도록 상대 빈도로 그래프를 그려야 한다. 다음은 수치형 변수를 상대 빈도로 그래프를 그리는 문법이다.</p>
<pre><code>ggplot(데이터, aes(x = 수치형변수)) + geom_histogram(aes(y = ..density..))</code></pre>
<p>다음은 <code>course</code> 데이터에 대한 히스토그램과 함께 추정되는 밀도 함수를 그린 예이다.
확률밀도 그래프에서 총점이 두 개의 봉우리를 가지는 것으로 나타나는데, 총점이 매우 낮은 예외적인 한 명의 학생과 나머지 학생 그룹에 의해서 이러한 분포가 나타난 것을 확인할 수 있다. <code>geom_vline()</code>으로 분포의 평균(빨간 실선)과 중위수(파란 파선)도 같이 표현하였는데, 예외적으로 낮은 점수의 학생 한 명 때문에 평균이 중위수보다 작은 왼쪽으로 꼬리가 긴 분포의 모양을 가지고 있음을 볼 수 있다.</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="ch-numericDescStat.html#cb654-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(score)) <span class="sc">+</span> </span>
<span id="cb654-2"><a href="ch-numericDescStat.html#cb654-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span><span class="dv">100</span>, <span class="at">by=</span><span class="dv">10</span>), <span class="at">closed=</span><span class="st">&quot;left&quot;</span>) <span class="sc">+</span></span>
<span id="cb654-3"><a href="ch-numericDescStat.html#cb654-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb654-4"><a href="ch-numericDescStat.html#cb654-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(course<span class="sc">$</span>score), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">linetype=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb654-5"><a href="ch-numericDescStat.html#cb654-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">median</span>(course<span class="sc">$</span>score), <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">linetype=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-42-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>예외적으로 매우 낮은 점수를 받은 학생은 시험을 치르지 않아 0점 처리된 학생이다. 이 학생을 제외하고 분포를 다시 그려보자. 약간의 비대칭성이 있지만 평균과 중위수가 거의 같은 자리에 있어서 총점이 거의 대칭에 가까운 분포임을 볼 수 있다.</p>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="ch-numericDescStat.html#cb655-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course_omitted, <span class="fu">aes</span>(score)) <span class="sc">+</span> </span>
<span id="cb655-2"><a href="ch-numericDescStat.html#cb655-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from=</span><span class="dv">0</span>, <span class="at">to=</span><span class="dv">100</span>, <span class="at">by=</span><span class="dv">10</span>), <span class="at">closed=</span><span class="st">&quot;left&quot;</span>) <span class="sc">+</span></span>
<span id="cb655-3"><a href="ch-numericDescStat.html#cb655-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb655-4"><a href="ch-numericDescStat.html#cb655-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(course_omitted<span class="sc">$</span>score), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">linetype=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb655-5"><a href="ch-numericDescStat.html#cb655-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">median</span>(course_omitted<span class="sc">$</span>score), <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">linetype=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-43-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>예외적인 데이터를 제외한 총점의 기술통계량을 살펴보면 왜도가 거의 0에 가까워서 대칭적인 분포이고, 첨도는 0보다 작아서 정규분포보다는 조금 납작한 형태의 분포임을 알 수 있다.</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb656-1"><a href="ch-numericDescStat.html#cb656-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(course_omitted<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>   vars  n  mean    sd median trimmed   mad   min max range skew kurtosis   se
X1    1 44 72.86 11.65  72.98   72.49 13.19 53.74  95 41.26 0.24    -1.12 1.76</code></pre>
</div>
<div id="subsubsec:qqplot" class="section level4" number="8.1.2.3">
<h4><span class="header-section-number">8.1.2.3</span> Q-Q 그림</h4>
<p>어떤 분포가 정규분포를 따르는지를 시각적으로 확인하는 방법 중 하나가 Q-Q 그림을 그려보는 것이다. Q-Q 그림은 실측된 변수와 이론적인 분포의 분위수(quantile)가 서로 부합되는지를 살펴본다. 부합이 된다면 Q-Q 그림은 직선에 가까운 그래프를 보인다.</p>
<p><code>ggplot2</code> 패키지가 제공하는 <code>geom_qq()</code> 함수는 실측된 변수를 정규분포의 분위수와 비교하는 점을 그려준다. <code>geom_qq_line()</code>은 이론적 분포에 실제 분포가 부합될 때 점들이 위치되어야 할 직선을 그려준다. 다음은 <code>ggplot2</code> 패키지를 이용하여 Q-Q 그림을 그리는 문법이다.</p>
<pre><code>ggplot(데이터, aes(sample = 수치형변수)) + geom_qq() + geom_qq_line()</code></pre>
<p>다음은 <code>course</code> 데이터의 총점 변수에 대한 Q-Q 그림을 그린 예이다.</p>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb659-1"><a href="ch-numericDescStat.html#cb659-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">sample =</span> score)) <span class="sc">+</span> </span>
<span id="cb659-2"><a href="ch-numericDescStat.html#cb659-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-45-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>총점은 예외적으로 낮은 점수의 한 학생 때문에 정규분포와 차이를 보이고 있다. 예외적인 학생을 제외하고 Q-Q 그래프를 다시 그려보자. Q-Q 그림에서 가로축은 이론적인 정규분포를 세로축은 실제 데이터를 나타낸다. Q-Q 그림에서 실제 데이터가 정규분포에 비해 양 끝이 좀 더 중심에 가깝게 분포되어 있는 것을 확인할 수 있다. 그러므로 총점 분포는 정규분포보다 더 평평한 모양을 가지고 이는 첨도 값에서도 확인할 수 있었다.</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="ch-numericDescStat.html#cb660-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course_omitted, <span class="fu">aes</span>(<span class="at">sample =</span> score)) <span class="sc">+</span> </span>
<span id="cb660-2"><a href="ch-numericDescStat.html#cb660-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-46-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>이러한 정규분포와의 차이가 통계적으로 유의미한 것인지 분포의 정규성에 대해 가설검정을 해보자. p-값이 크게 나와 실제 데이터와 정규분포와의 차이는 통계적으로 유의미하지 않은 것으로 확인된다.</p>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="ch-numericDescStat.html#cb661-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">shapiro.test</span>(course_omitted<span class="sc">$</span>score)</span></code></pre></div>
<pre><code>
    Shapiro-Wilk normality test

data:  course_omitted$score
W = 0.95653, p-value = 0.09646</code></pre>
</div>
<div id="subsubsec:boxplot" class="section level4" number="8.1.2.4">
<h4><span class="header-section-number">8.1.2.4</span> 상자 그림</h4>
<p>어떤 분포에 이상치가 있는지를 살펴보려면 상자 그림(box plots)를 그려보는 것이 좋다. 상자 그림은 그림 <a href="ch-numericDescStat.html#fig:boxplot-desc">8.1</a>와 같은 상자 모양으로 수치형 변수의 분포를 나타낸다. 상자 그림으로 수치형 변수의 분포에 대해서 알아낼 수 있는 정보는 다음과 같다.</p>
<div class="figure" style="text-align: center"><span id="fig:boxplot-desc"></span>
<img src="img/boxplot-desc.png" alt="상자 그림의 의미" width="60%" />
<p class="caption">
Figure 8.1: 상자 그림의 의미
</p>
</div>
<ul>
<li>상자의 상단은 수치형 분포의 3분위수(3Q)를, 상자의 하단은 수치형 분포의 1분위수(1Q)를 나타낸다. 따라서 상자의 범위만으로 상위 25%와 하위 25%를 제외한 가운데 50%의 데이터의 범위를 확인할 수 있다.</li>
<li>상자 가운데 진한 선은 2분수(2Q), 즉, 중위수를 나타낸다. 중위수의 위치로 분포가 대략적으로 대칭인지 한쪽으로 쏠려있는지를 파악할 수 있다. 중위수가 상자의 중간에 위치하면 분포가 어느 정도 대칭적인 모양임을 알 수 있다. 중위수가 상자의 상단에 가까우면 분포가 오른쪽으로 치우친(왼쪽으로 꼬리가 긴) 분포이고, 중위수가 상자의 하단에 가까우면 왼쪽으로 치우친(오른쪽으로 꼬리가 긴) 분포일 가능성이 크다.</li>
<li>상자 상단과 하단의 수염(whiskers)은 이상치를 제외한 분포의 최대값과 최소값을 나타낸다. 3분위수와 1분위수의 차이를 IQR(interquartile range)라고 한다. 일반적으로 3분위수에서 분포의 상단쪽으로 IQR의 1.5 배보다 멀리 떨어진 수치는 이상치로 간주한다. 마찬가지로 1분위수에서 분포의 하단쪽으로 IQR의 1.5 배보다 멀리 떨어진 수치도 이상치로 간주한다. 상자의 수염은 상자에서 1.5 IQR 범위 내의 데이터 중 가장 큰 값과 가장 작은 값의 위치를 알려준다.</li>
<li>상자에서 1.5 IQR보다 더 멀리 떨어진 모든 데이터는 이상치로 간주하여 점으로 표현한다.
<code>ggplot2</code> 패키지의 <code>geom_boxplot()</code> 함수는 상자 그림을 그려준다. 다음은 <code>ggplot2</code> 패키지를 이용하여 상자 그림을 그리는 문법이다.</li>
</ul>
<pre><code>ggplot(데이터, aes(x 또는 y = 수치형변수)) + geom_boxplot()</code></pre>
<p>다음은 <code>course</code> 데이터의 총점 변수에 대한 상자 그림을 그린 예이다. <code>y</code> 속성에 <code>score</code> 변수를 매핑하였다. 이렇게 한 수치형 변수를 <code>y</code>에 매핑하여 상자 그림을 그릴 때는 그래프의 가로축의 수치는 별다른 의미를 가지지 않는다. 나중에 상자 그래프는 범주형 변수에 따라 수치형 변수의 분포가 어떻게 변하는지를 보기 위해 자주 사용되는데 그 때는 가로축은 범주형 변수의 값을 의미한다.</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="ch-numericDescStat.html#cb664-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">y =</span> score)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-48-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>총점은 약간 상단에 치우친(오른쪽에 치우친) 분포의 모습을 보여주고 있고, 최소값이 일반적인 데이터에서 크게 떨어져 있는 이상치임을 확인할 수 있다.</p>
</div>
</div>
<div id="subsection:transformNumerice" class="section level3" number="8.1.3">
<h3><span class="header-section-number">8.1.3</span> 수치형 변수의 변환</h3>
<div id="오른쪽으로-꼬리가-긴-분포를-가지는-수치형-변수의-변환" class="section level4 unnumbered">
<h4>오른쪽으로 꼬리가 긴 분포를 가지는 수치형 변수의 변환</h4>
<p><code>ggplot2</code> 패키지가 제공하는 <code>diamonds</code> 데이터에서 다이아몬드의 중량(<code>carat</code>)과 가격(<code>price</code>) 변수의 분포를 확인해 보자. 특히 다이아몬드 가격은 오른쪽으로 매우 꼬리가 긴 분포로 전혀 대칭적이지 않다.</p>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb665-1"><a href="ch-numericDescStat.html#cb665-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> carat)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-49-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb667-1"><a href="ch-numericDescStat.html#cb667-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(diamonds<span class="sc">$</span>carat)</span></code></pre></div>
<pre><code>   vars     n mean   sd median trimmed  mad min  max range skew kurtosis se
X1    1 53940  0.8 0.47    0.7    0.73 0.47 0.2 5.01  4.81 1.12     1.26  0</code></pre>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="ch-numericDescStat.html#cb669-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> price)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-49-2.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb671-1"><a href="ch-numericDescStat.html#cb671-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(diamonds<span class="sc">$</span>price)</span></code></pre></div>
<pre><code>   vars     n   mean      sd median trimmed     mad min   max range skew
X1    1 53940 3932.8 3989.44   2401 3158.99 2475.94 326 18823 18497 1.62
   kurtosis    se
X1     2.18 17.18</code></pre>
<p>이러한 분포처럼 대부분의 관측치가 한 쪽에 치우쳐 있는 분포를 그대로 사용하여 모형을 만들면 다음과 같은 문제점이 발생한다.</p>
<ul>
<li>모형이 예외적으로 큰 값의 영향을 크게 받아 대다수의 값이 모여 있는 구간에서의 분석의 정확도가 떨어질 수 있다.<br />
</li>
<li>가설검정이나 회귀모형에서 분포의 정규성이 가정되어야 하는 경우 가설검정이나 회귀모형을 수행할 수 없게 된다.</li>
</ul>
<p>수치형 변수가 이렇게 가격이나 소득처럼 관측값이 모두 0 이상이고 왼쪽으로 치우친 분포를 보이는 경우, 로그 변환이나 제곱근으로 변환하여 대칭적인 분포를 만들어 통계 분석을 하는 것이 좋다.</p>
<ul>
<li>로그 변환은 1, 10, 100, 1000 등으로 동일한 배수로 늘어나는 수치를 0, 1, 2, 3 등으로 등간격 척도로 변환해 준다. 즉, 100 만원과 1,000 만원의 차이가 1,000 만원에서 1 억의 차이와 같아지도록 척도를 변환해 준다.</li>
<li>제곱근으로 변환하면, 1, 4, 9, 16 등으로 제곱수로 늘어나는 값을 1, 2, 3, 4 등의 등간격 척도로 변환해 준다. 즉, 만원을 가진 사람에게 3만원을 더해주는 효과와 4만원을 가진 사람에게 5만원을 더해주는 효과가 같다고 간주한다.</li>
</ul>
<p><code>ggplot2</code>는 <code>scale_x_log10()</code>과 <code>scale_x_sqrt()</code> 함수를 가지고 있어서 가로축의 값을 자동으로 로그 변환 또는 제곱근 변환을 하여 그래프를 그려준다.</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb673-1"><a href="ch-numericDescStat.html#cb673-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> price)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">scale_x_log10</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-50-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="ch-numericDescStat.html#cb675-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> price)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">scale_x_sqrt</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-50-2.png" width="60%" style="display: block; margin: auto;" /></p>
<p>그래프의 결과를 보듯이 제곱근 변환으로는 분포를 충분히 대칭적인 형태로 변환하지 못한다. 반면 로그 변환을 하면 다이아몬드 가격의 분포가 어느 정도 대칭적인 모습으로 변하는 것을 볼 수 있다. 아울러 로그 변환한 변수의 히스토그램을 보면 2 개 이상의 봉우리가 보인다. 확률 밀도 그래프를 그려 분포의 봉우리를 다시 확인해 보자.</p>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="ch-numericDescStat.html#cb677-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> price)) <span class="sc">+</span>  </span>
<span id="cb677-2"><a href="ch-numericDescStat.html#cb677-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="sc">+</span> <span class="fu">scale_x_log10</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-51-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>가격 분포에서 여러 봉우리가 있는 것으로 보아 가격과 관련하여 다이아몬드가 여러 개의 군집으로 나누어 질 수 있음을 알 수 있다. 가격이 왜 이러한 군집된 형태를 보이는가에 대한 탐구는 다음 절로 넘기고, 여기서는 다이아몬드 중량에 대해서도 같은 변환을 한 후 그래프를 그려보자.</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="ch-numericDescStat.html#cb679-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> carat)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">scale_x_log10</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-52-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="ch-numericDescStat.html#cb681-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> carat)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">scale_x_sqrt</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-52-2.png" width="60%" style="display: block; margin: auto;" /></p>
<p>중량도 제곱근보다는 로그 변환이 더 적절해 보인다. 로그 변환 그래프를 보면 2 개 이상의 봉우리가 보인다. 다시 확률 밀도 그래프를 그려 분포의 봉우리를 확인해 보자.</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="ch-numericDescStat.html#cb683-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> carat)) <span class="sc">+</span>  </span>
<span id="cb683-2"><a href="ch-numericDescStat.html#cb683-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y=</span>..density..)) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>) <span class="sc">+</span> <span class="fu">scale_x_log10</span>()</span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-53-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>다이아몬드 중량과 가격 변수를 로그 변환한 후의 기술통계량을 살펴보자. 수치 변수를 밑이 10일 로그로 변환하려면 <code>log10()</code> 함수를 사용한다. (제곱근으로 변환하려면 <code>sqrt()</code> 함수를 사용한다.)
두 변수 모두 로그 변환 후에 평균과 중위수의 값의 차이가 작고, 왜도도 0에 가까워 대칭적인 분포의 모습을 보인다. 첨도는 두 변수 모두 음의 값으로 정규분포보다는 납작하게 퍼진 분포를 보여준다.</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="ch-numericDescStat.html#cb685-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(<span class="fu">log10</span>(diamonds<span class="sc">$</span>carat))</span></code></pre></div>
<pre><code>   vars     n  mean   sd median trimmed  mad  min max range skew kurtosis se
X1    1 53940 -0.17 0.25  -0.15   -0.18 0.31 -0.7 0.7   1.4  0.1    -1.06  0</code></pre>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="ch-numericDescStat.html#cb687-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(<span class="fu">log10</span>(diamonds<span class="sc">$</span>price))</span></code></pre></div>
<pre><code>   vars     n mean   sd median trimmed  mad  min  max range skew kurtosis se
X1    1 53940 3.38 0.44   3.38    3.37 0.56 2.51 4.27  1.76 0.12     -1.1  0</code></pre>
<p>로그 변환을 할 때 한 가지 주의 사항은 로그 값은 오직 양의 값에 대해서만 정의된다. 수치 변수가 0의 값을 가지면 로그 변환하면 음의 무한대의 값을 가지므로 제대로된 변환이 되지 않는다. 그러한 경우에는 수치 변수에 1을 더해서 로그 변환한다. 예를 들어 <code>diamond</code>의 <code>y</code> 변수를 로그 변환한다고 가정해 보자. 이 변수는 0으로 측정된 값이 있으므로 로그 변환하면 평균 등이 모두 음의 무한대가 되는 것을 볼 수 있다.</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="ch-numericDescStat.html#cb689-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">summary</span>(diamonds<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.000   4.720   5.710   5.735   6.540  58.900 </code></pre>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="ch-numericDescStat.html#cb691-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(<span class="fu">log10</span>(diamonds<span class="sc">$</span>y))</span></code></pre></div>
<pre><code>   vars     n mean  sd median trimmed  mad  min  max range skew kurtosis  se
X1    1 53940 -Inf NaN   0.76    0.75 0.11 -Inf 1.77   Inf  NaN      NaN NaN</code></pre>
<p>이러한 경우 1을 변수에 더한 후 로그 변환을 하면 된다. 물론 이렇게 1이 더해진 수치변수는 해석을 할 때 1이 더해진 수치임을 잊지 말아야 한다.</p>
<div class="sourceCode" id="cb693"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb693-1"><a href="ch-numericDescStat.html#cb693-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(<span class="fu">log10</span>(diamonds<span class="sc">$</span>y <span class="sc">+</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>   vars     n mean   sd median trimmed  mad min  max range skew kurtosis se
X1    1 53940 0.82 0.07   0.83    0.82 0.09   0 1.78  1.78 0.01     1.88  0</code></pre>
</div>
<div id="자주-사용되는-변환-방법" class="section level4 unnumbered">
<h4>자주 사용되는 변환 방법</h4>
<p>지금까지는 오른쪽으로 꼬리가 긴 분포에 대하여 로그 변환과 제곱근 변환을 하는 방법을 살펴보았다. 그러나 이러한 변환 외에도 변수의 역수를 취하거나 제곱을 하는 변환 등도 사용할 수도 있다. 다음 표는 마케팅이나 경영 문제에서 자주 사용되는 수치형 변수의 변환 방법이다. (<span class="citation">(<a href="#ref-chapman2015" role="doc-biblioref">Chapman and Feit 2015</a>, p 102)</span>에서 인용)</p>
<table>
<thead>
<tr class="header">
<th>변수</th>
<th>자주 사용되는 변환 방법</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>판매량, 판매수입, 가구수입, 가격</td>
<td><span class="math inline">\(\log(x)\)</span></td>
</tr>
<tr class="even">
<td>거리</td>
<td><span class="math inline">\(1/x\)</span>, <span class="math inline">\(1/x^2\)</span>, <span class="math inline">\(\log(x)\)</span></td>
</tr>
<tr class="odd">
<td>오른쪽으로 꼬리가 긴 분포</td>
<td><span class="math inline">\(\sqrt{x}\)</span>, <span class="math inline">\(\log(x)\)</span></td>
</tr>
<tr class="even">
<td>왼쪽으로 꼬리가 긴 분포</td>
<td><span class="math inline">\(x^2\)</span></td>
</tr>
</tbody>
</table>
</div>
<div id="변환된-변수를-데이터-열로-추가하기" class="section level4 unnumbered">
<h4>변환된 변수를 데이터 열로 추가하기</h4>
<p>수치형 변수에 대하여 적절한 변환을 수행한 후, 변환된 변수를 분석에 사용하려면 데이터에 새로운 열로 추가하는 것이 좋다. 데이터에 새로운 열을 추가하는 방법은 다음과 같다.</p>
<pre><code>데이터$추가할_열_이름 &lt;- log10(데이터$수치형변수) # 밑이 10인 로그로 변환 후 열 추가
데이터$추가할_열_이름 &lt;- sqrt(데이터$수치형변수)  # 제곱근으로 변환 후 열 추가
#데이터$추가할_열_이름 &lt;- 수치함수(데이터$수치형변수) 결과나 수치 벡터 연산으로 변환 후 저장 </code></pre>
<p>다음은 <code>diamonds</code> 데이터의 <code>carat</code>과 <code>price</code> 열을 각각 밑이 10인 로그로 변환한 후 <code>carat_log10</code>과 <code>price_log10</code>이라는 열로 <code>diamonds</code> 데이터에 추가한 예이다.</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="ch-numericDescStat.html#cb696-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> diamonds<span class="sc">$</span>carat_log10 <span class="ot">&lt;-</span> <span class="fu">log10</span>(diamonds<span class="sc">$</span>carat)</span>
<span id="cb696-2"><a href="ch-numericDescStat.html#cb696-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> diamonds<span class="sc">$</span>price_log10 <span class="ot">&lt;-</span> <span class="fu">log10</span>(diamonds<span class="sc">$</span>price)</span>
<span id="cb696-3"><a href="ch-numericDescStat.html#cb696-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">summary</span>(diamonds)</span></code></pre></div>
<pre><code>     carat               cut        color        clarity          depth      
 Min.   :0.2000   Fair     : 1610   D: 6775   SI1    :13065   Min.   :43.00  
 1st Qu.:0.4000   Good     : 4906   E: 9797   VS2    :12258   1st Qu.:61.00  
 Median :0.7000   Very Good:12082   F: 9542   SI2    : 9194   Median :61.80  
 Mean   :0.7979   Premium  :13791   G:11292   VS1    : 8171   Mean   :61.75  
 3rd Qu.:1.0400   Ideal    :21551   H: 8304   VVS2   : 5066   3rd Qu.:62.50  
 Max.   :5.0100                     I: 5422   VVS1   : 3655   Max.   :79.00  
                                    J: 2808   (Other): 2531                  
     table           price             x                y         
 Min.   :43.00   Min.   :  326   Min.   : 0.000   Min.   : 0.000  
 1st Qu.:56.00   1st Qu.:  950   1st Qu.: 4.710   1st Qu.: 4.720  
 Median :57.00   Median : 2401   Median : 5.700   Median : 5.710  
 Mean   :57.46   Mean   : 3933   Mean   : 5.731   Mean   : 5.735  
 3rd Qu.:59.00   3rd Qu.: 5324   3rd Qu.: 6.540   3rd Qu.: 6.540  
 Max.   :95.00   Max.   :18823   Max.   :10.740   Max.   :58.900  
                                                                  
       z           carat_log10        price_log10   
 Min.   : 0.000   Min.   :-0.69897   Min.   :2.513  
 1st Qu.: 2.910   1st Qu.:-0.39794   1st Qu.:2.978  
 Median : 3.530   Median :-0.15490   Median :3.380  
 Mean   : 3.539   Mean   :-0.17153   Mean   :3.382  
 3rd Qu.: 4.040   3rd Qu.: 0.01703   3rd Qu.:3.726  
 Max.   :31.800   Max.   : 0.69984   Max.   :4.275  
                                                    </code></pre>
</div>
<div id="box-cox-변환" class="section level4" number="8.1.3.1">
<h4><span class="header-section-number">8.1.3.1</span> Box-Cox 변환</h4>
<p>자주 사용되는 변환 방법으로도 좋은 결과를 얻지 못했거나 어떠한 변환이 좋을지 모를 때는 일반적인 변환 방법인 Box-Cox 변환을 사용할 수 있다. Box-Cox 변환은 수치형 변수를 거듭제곱 형태로 변환한다. 예를 들어 원 수치형 변수 <span class="math inline">\(x\)</span>를 <span class="math inline">\(x^2, 1/x = x^{-1}, x^{1/2} = \sqrt{x}\)</span> 등의 거듭제곱 형태로 변환을 한다. 좀 더 엄밀히 정의하자면 다음처럼 변수 <span class="math inline">\(x\)</span>를 거듭제곱 형태인 <span class="math inline">\(x_{\lambda}\)</span>로 변환하는데, 거듭제곱의 지수 <span class="math inline">\(\lambda\)</span>에 여러 값을 대입하여 변환한 후 그 중 가장 적합한 <span class="math inline">\(\lambda\)</span>의 값을 결정한다. 가장 적합한 변환이란 변환된 <span class="math inline">\(x_{\lambda}\)</span>의 분포가 정규분포에 가까운 변환을 의미한다.
<span class="math display">\[
x_{\lambda} = \begin{cases}
  \frac{x^{\lambda} - 1}{\lambda}, &amp; \lambda \neq 0 \\
  \log(x), &amp; \lambda = 0 
\end{cases}
\]</span></p>
<p><code>car</code> 패키지의 <code>powerTransform()</code> 함수는 Box-Cox 변환을 수행하여 가장 적합한 <span class="math inline">\(\lambda\)</span> 값을 알려준다. <code>car</code> 패키지가 아직 설치되어 있지 않으면 다음 명령이나 RStudio의 [Package] 탭을 사용하여 <code>car</code> 패키지를 설치한다.</p>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="ch-numericDescStat.html#cb698-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">install.packages</span>(<span class="st">&quot;car&quot;</span>)</span></code></pre></div>
<p>Box-Cox 변환에서 어떤 <span class="math inline">\(\lambda\)</span> 값이 최적인지 파악하려면 다음 문법처럼 <code>powerTransform()</code> 함수에 Box-Cox 변환을 테스트할 수치형변수를 전달한 후 그 결과를 뒤에서 사용하기 위해 <strong>R</strong> 변수에 할당을 한다.</p>
<pre><code>결과_저장_변수 &lt;- car::powerTransform(데이터$수치형변수)  # 결과를 변수에 저장
결과_저장_변수                                           # 결과 출력</code></pre>
<p>다음은 <code>diamonds</code>의 <code>price</code> 열에 대하여 Box-Cox 변환에서 최적 <span class="math inline">\(\lambda\)</span>를 탐색한 결과이다.</p>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="ch-numericDescStat.html#cb700-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> bc <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">powerTransform</span>(diamonds<span class="sc">$</span>price)</span>
<span id="cb700-2"><a href="ch-numericDescStat.html#cb700-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> bc</span></code></pre></div>
<pre><code>Estimated transformation parameter 
diamonds$price 
   -0.06699008 </code></pre>
<p>최적의 <span class="math inline">\(\lambda\)</span> 값으로 -0.0669901이 추정되었다. 그런데 일반적으로 제시된 추정 값으로 변환을 하기 앞서 변환을 하지 않는 것(<span class="math inline">\(\lambda = 1\)</span>)과 로그 변환(<span class="math inline">\(\lambda = 0\)</span>)하는 것에 비해 제시된 변환이 통계적으로 확실히 유의미한 변환인지 검정해 볼 필요가 있다.
왜냐하면 원래 변수나 로그 변환한 변수는 그 의미를 파악하기 쉽지만 원래 변수를 -0.0669901 제곱한 변수의 의미가 무엇인지 해석하기 어렵기 때문이다. 그러므로 변환이 확실하게 유의미하게 좋다고 판단되지 않으면 변환을 하지 않거나 로그 변환 등의 자주 사용되는 변환을 수행하는 것이 좋다.
제시된 <span class="math inline">\(\lambda\)</span> 값으로 변환하는 것이 유의미한지 정보를 얻으려면 Box-Cox 변환 결과를 <code>summary()</code> 함수에 전달을 하여 상세 변환 결과를 출력한다.</p>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="ch-numericDescStat.html#cb702-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">summary</span>(bc)</span></code></pre></div>
<pre><code>bcPower Transformation to Normality 
               Est Power Rounded Pwr Wald Lwr Bnd Wald Upr Bnd
diamonds$price    -0.067       -0.07      -0.0761      -0.0579

Likelihood ratio test that transformation parameter is equal to 0
 (log transformation)
                           LRT df       pval
LR test, lambda = (0) 210.8779  1 &lt; 2.22e-16

Likelihood ratio test that no transformation is needed
                           LRT df       pval
LR test, lambda = (1) 53082.28  1 &lt; 2.22e-16</code></pre>
<p><code>Likelihood ratio test</code>로 시작하는 두 문단이 로그 변환(<span class="math inline">\(\lambda = 0\)</span>)과 무변환(<span class="math inline">\(\lambda = 1\)</span>)보다 제시된 변환이 통계적으로 유의미한지 최우도비 검정을 한 결과이다. 이 결과에서 우리가 살펴볼 값은 <code>pval</code>로 표시된 검정통계량의 p-값이다. p-값이 작게 나올수록 제시된 변환이 통계적으로 유의미한 변환이라 할 수 있다. 이 예에서는 모두 매우 작은 값이 나왔으므로 제시된 값으로 변환하는 것이 통계적으로 유의미하다고 할 수 있다.</p>
<p>제시된 <span class="math inline">\(\lambda\)</span> 값에 따라 원 수치형 변수를 Box-Cox 변환을 하여 원래의 데이터에 변환된 열을 추가하려면 다음처럼 <code>car</code> 패키지의 <code>bcPower()</code> 함수를 사용하는 다음 문법을 이용한다.</p>
<pre><code>데이터$추가할_열_이름 &lt;- 
  car::bcPower(데이터$수치형_변수, coef(powerTransfrom_결과_저장_변수))</code></pre>
<p>다음은 <code>diamonds</code>의 <code>price</code> 열에 대하여 앞에서 찾은 최적 <span class="math inline">\(\lambda\)</span> 값으로 변환을 수행한 후, 변환된 변수에 대하여 히스토그램과 통계 요약을 수행한 결과이다.</p>
<div class="sourceCode" id="cb705"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb705-1"><a href="ch-numericDescStat.html#cb705-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> diamonds<span class="sc">$</span>price_bc <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">bcPower</span>(diamonds<span class="sc">$</span>price, <span class="fu">coef</span>(bc))</span>
<span id="cb705-2"><a href="ch-numericDescStat.html#cb705-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> price_bc)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() </span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-61-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb707"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb707-1"><a href="ch-numericDescStat.html#cb707-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(diamonds<span class="sc">$</span>price_bc)</span></code></pre></div>
<pre><code>   vars     n mean  sd median trimmed  mad min  max range skew kurtosis se
X1    1 53940 6.05 0.6   6.07    6.04 0.77 4.8 7.21  2.41 0.03    -1.13  0</code></pre>
<p>마찬가지 방법으로 <code>diamonds</code> 데이터의 <code>carat</code> 열에 대해 변환을 수행해 보자.</p>
<div class="sourceCode" id="cb709"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb709-1"><a href="ch-numericDescStat.html#cb709-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> bc <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">powerTransform</span>(diamonds<span class="sc">$</span>carat)</span>
<span id="cb709-2"><a href="ch-numericDescStat.html#cb709-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">summary</span>(bc)</span></code></pre></div>
<pre><code>bcPower Transformation to Normality 
               Est Power Rounded Pwr Wald Lwr Bnd Wald Upr Bnd
diamonds$carat   -0.0949       -0.09      -0.1105      -0.0793

Likelihood ratio test that transformation parameter is equal to 0
 (log transformation)
                          LRT df       pval
LR test, lambda = (0) 143.377  1 &lt; 2.22e-16

Likelihood ratio test that no transformation is needed
                           LRT df       pval
LR test, lambda = (1) 20088.35  1 &lt; 2.22e-16</code></pre>
<div class="sourceCode" id="cb711"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb711-1"><a href="ch-numericDescStat.html#cb711-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> diamonds<span class="sc">$</span>carat_bc <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">bcPower</span>(diamonds<span class="sc">$</span>carat, <span class="fu">coef</span>(bc))</span>
<span id="cb711-2"><a href="ch-numericDescStat.html#cb711-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> carat_bc)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() </span></code></pre></div>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-62-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb713"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb713-1"><a href="ch-numericDescStat.html#cb713-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> psych<span class="sc">::</span><span class="fu">describe</span>(diamonds<span class="sc">$</span>carat_bc)</span></code></pre></div>
<pre><code>   vars     n  mean   sd median trimmed  mad   min  max range skew kurtosis se
X1    1 53940 -0.42 0.61  -0.36   -0.43 0.76 -1.74 1.49  3.23 0.02    -1.11  0</code></pre>
<p>변환 후 두 변수 모두 어느 정도 대칭적인 분포가 되었다.
그런데 변환된 후의 다이아몬드 중량과 가격의 분포 그래프를 보면 봉우리의 세부적인 모양을 다르지만 가장 큰 두 봉우리의 양상이 유사한 측면이 있다.
그러므로 이 두 변수에 상관성이 있는지 확인해 볼 필요가 있다.
다이아몬드 중량과 가격에 상관성이 있는지를 분석하기 위해서는 두 수치형 변수의 상관성에 대한 기술통계 분석 방법이 필요하다.</p>
</div>
</div>
</div>
<div id="둘-이상의-수치형-변수의-상관성-분석" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> 둘 이상의 수치형 변수의 상관성 분석</h2>
<p>다변량 수치 데이터가 있을 때 각 변수의 분포를 파악 한 후 다음로 파악해야 할 사항은 각 변수 간의 상관관계를 파악하는 것이다. 예를 들어 <code>course</code> 데이터에서는 중간고사 점수와 기말고사 점수의 상관성이 있는지, 최종평가 점수와 숙제 점수는 연관성이 있는지, 또는 <code>diamonds</code> 데이터에서는 다이아몬드 중량과 가격은 연관성이 있는지를 파악해야 한다.</p>
<div id="상관계수" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> 상관계수</h3>
<p>두 변수 데이터에 대한 (선형적) 상관관계를 수치적으로 측정하는 대표적 통계량이 Pearson 상관계수(correlation coefficient)이다. 다음과 같이 <span class="math inline">\(n\)</span>개의 쌍으로 이변량 데이터 <span class="math inline">\((x_1, y_1), (x_2, y_2), \ldots, (x_n, y_n)\)</span>가 측정되었다면 두 변수의 Pearson 상관계수 <span class="math inline">\(r_{xy}\)</span>는 다음과 같이 정의된다.</p>
<p><span class="math display">\[
r_{xy} = \frac{s_{xy}}{s_x s_y} = 
  \frac{
    \frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x}) (y_i - \bar{y})
  }{
    \sqrt{ \frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2 } 
    \sqrt{ \frac{1}{n-1} \sum_{i=1}^{n} (y_i - \bar{y})^2 }
  }
\]</span></p>
<p>Pearson 상관계수는 두 변수 간의 선형 상관성의 정도를 나타내는 통계량으로 -1부터 1 사이의 값을 가진다.</p>
<ul>
<li>두 변수의 선형 상관성이 없으면 0에 가까운 값이 된다.</li>
<li>1에 가까울 수록 양의 상관성이 있다고 한다.</li>
<li>-1에 가까울수록 음의 상관성을 가진다.</li>
</ul>
<p>그런데 Pearson 상관계수는 두 변수 간의 선형 상관성에 대한 통계량이기 때문에 비선형적인 관계는 잘 포착하지는 못한다.
다음은 두 변수 간의 상관계수와 산점도를 보여준다.
그래프의 두 번째 행은 두 변수의 관계를 나타내는 선의 기울기와 상관계수의 값은 기울기가 양인지, 음인지, 0인지를 제외하고는 관계가 없음을 보여준다.
아울러 그래프의 마지막 행처럼 비선형적 관계가 있지만 선형적 관계가 없으면 0에 가까운 상관계수 값이 나오는 것을 확인할 수 있다.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-63"></span>
<img src="img/1920px-Correlation_examples2.svg.png" alt="피어슨 상관계수 (출처: 위키피디아)" width="100%" />
<p class="caption">
Figure 8.2: 피어슨 상관계수 (출처: 위키피디아)
</p>
</div>
<p>그럼 Pearson 상관계수의 값이 어느 정도의 값이 나와야 두 수치형 변수가 상관성이 있다고 보는가? 이 질문에 대한 답은 문제 상황에 따라 다르다. 물리적 현상과 관련된 자연과학이나 공학 분야의 실험 데이터처럼 측정의 정확도가 높은 경우에는 상관계수의 절대값이 0.9 이상이어야 두 변수의 상관관계가 높다고 볼 수 있다. 반면 사람의 심리나 행동과 관련된 사회과학 분야에서는 측정의 정확도가 물리적 현상만큼 높지 않으며 요인도 매우 복잡하게 상호작용하는 경우에는 상관계수의 절대값이 0.3 이상이면 높은 상관 관계가 있다고 보기도 한다. 사람의 심리나 행동을 연구하는 심리학에서 발전한 Cohen의 어림짐작 규칙은 상관계수의 절대값에 대해 다음을 제시한다.</p>
<ul>
<li>상관계수의 절대값이 0.1 정도이면 상관성이 작거나 약하다고 본다.</li>
<li>상관계수의 절대값이 0.3 정도이면 상관성이 중간 정도라고 본다.</li>
<li>상관계수의 절대값이 0.5 정도이면 상관성이 크고 강하다고 본다.</li>
</ul>
<p>Cohen은 상관성이 큰 경우 일반적인 관찰자도 두 변수의 상관성을 알아채게 된다고 본다. 그러나 이러한 기준은 사람의 심리와 행동을 연구하는 분야나 유사한 분야에 적용하기는 적절하지만 모든 분야에 일률적으로 적용될 수 없다는 점에 주의하여야 한다.</p>
<p>R의 기본 패키지의 <code>cor()</code> 함수는 두 변수의 상관성을 구해 준다.</p>
<pre><code>cor(데이터$수치형변수1, 데이터$수치형변수2) # 두 수치형 변수의 상관계수 계산
cor(데이터[수치형_변수_인덱스_벡터])        # 선택된 수치형 변수의 모든 조합에 대해 계산</code></pre>
<p>다음은 중간고사와 기말고사의 Pearson 상관계수를 구한 예이다.
중간고사와 기말고사에는 매우 강한 선형 상관성이 있다.</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="ch-numericDescStat.html#cb716-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(course<span class="sc">$</span>mid, course<span class="sc">$</span>final)</span></code></pre></div>
<pre><code>[1] NA</code></pre>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="ch-numericDescStat.html#cb718-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(course<span class="sc">$</span>mid, course<span class="sc">$</span>final, <span class="at">use =</span> <span class="st">&quot;complete.obs&quot;</span>)</span></code></pre></div>
<pre><code>[1] 0.8348258</code></pre>
<p>중간과 기말고사에 결측치가 있기 때문에 <code>use</code> 인수로 결측치를 어떻게 처리할지를 지정하지 않으면 결과가 <code>NA</code>로 나온다. <code>use</code>는 다음과 같은 값을 가질 수 있다.</p>
<ul>
<li>“everything”: 모든 데이터를 사용하고 상관계수를 계산할 두 변수 중에 <code>NA</code>가 있으면 결과도 <code>NA</code>가 나온다. <code>use</code> 인수의 기본 설정은 “everything”이다.</li>
<li>“all.obs”: 상관계수를 계산할 변수 중에 <code>NA</code>가 있으면 오류를 발생시킨다.</li>
<li>“complete.obs”: 변수 중에 하나라도 <code>NA</code>가 있으면 그 행은 삭제하고 완전한 행만 가지고 상관계수를 계산한다. 만약 완전한 행이 하나도 없으면 오류를 발생시킨다.</li>
<li>“na.or.complete”: “complete.obs”와 같은데, 완전한 행이 하나도 없으면 <code>NA</code>를 반환한다.</li>
<li>“pairwise.complete.obs”: 상관계수를 계산할 두 변수에서 <code>NA</code>가 있으면 그 관측은 제외하고 상관계수를 계산한다.</li>
</ul>
<p><code>use</code> 인수는 <code>cor()</code> 함수가 데이터 프레임 전체에 작용될 때 그 의미가 잘 들어난다. <code>cor()</code> 함수가 수치형 변수로만 이루어진 데이터 프레임에 적용되면 모든 두 변수 쌍에 대한 상관계수를 계산해 준다.</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="ch-numericDescStat.html#cb720-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(course[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>])</span></code></pre></div>
<pre><code>      mid final       hw    score
mid     1    NA       NA       NA
final  NA     1       NA       NA
hw     NA    NA 1.000000 0.697733
score  NA    NA 0.697733 1.000000</code></pre>
<p><code>use</code> 인수의 기본 값이 “everything”이므로 결측치가 있는 중간고사와 기말고사가 상관계수 계산에 사용된 경우에는 <code>NA</code>가 결과로 나왔다. “complete.obs”을 <code>use</code> 인수에 사용하면 중간, 기말, 숙제, 총점 중 하나라도 결측치가 있는 학생과 관련된 데이터 행은 없애고 상관계수를 구한다. 그러기 때문에 모든 변수 조합에 대하여 상관계수가 잘 계산되어 나왔다. 중간과 기말고사는 총점과 높은 상관성이 있지만 숙제는 총점과 약한 상관성만 있다.</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb722-1"><a href="ch-numericDescStat.html#cb722-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(course[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>], <span class="at">use =</span> <span class="st">&quot;complete.obs&quot;</span>)</span></code></pre></div>
<pre><code>            mid     final        hw     score
mid   1.0000000 0.8348258 0.3128638 0.9571183
final 0.8348258 1.0000000 0.2843525 0.9472175
hw    0.3128638 0.2843525 1.0000000 0.4078304
score 0.9571183 0.9472175 0.4078304 1.0000000</code></pre>
<p>“complete.obs”은 결측치가 있는 행은 모두 삭제하므로 일관성을 가지고 상관계수를 계산할 수 있는 장점이 있지만, 결측치가 흩뿌려져 있는 경우 상관성 계산에 사용되지 못하는 데이터의 양이 많아져 데이터 손실이 클 수 있다. 상관계수는 결국 두 변수의 관계이므로, 이러한 경우에는 상관계수 계산에 사용되는 변수에 결측치가 없으면 다른 변수에 결측치가 있어도 사용하도록 하는 게 좋다. 이러한 방식으로 상관계수를 계산하려면 <code>use</code> 인수를 “pairwise.complete.obs”으로 설정한다. 결측치가 없는 hw과 score 변수의 상관계수 계산에 mid와 final에 결측치가 있는 행도 사용하였으므로 앞의 결과와는 조금 다른 결과를 볼 수 있다.</p>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb724-1"><a href="ch-numericDescStat.html#cb724-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(course[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>], <span class="at">use =</span> <span class="st">&quot;pairwise.complete.obs&quot;</span>)</span></code></pre></div>
<pre><code>            mid     final        hw     score
mid   1.0000000 0.8348258 0.3128638 0.9571183
final 0.8348258 1.0000000 0.2843525 0.9472175
hw    0.3128638 0.2843525 1.0000000 0.6977330
score 0.9571183 0.9472175 0.6977330 1.0000000</code></pre>
<p>Pearson 상관계수는 평균, 분산과 마찬가지로, 산술 계산 상의 좋은 수학적 성질을 가지고 있지만 이상치에 의해 영향을 크게 받는다.
이러한 문제점을 개선한 상관계수가 Spearman 상관계수이다. Spearman 상관계수는 수치 값이 아니라 각 변수의 관측치의 등수(rank)를 사용하여 상관계수를 계산한다. 따라서 소수의 이상치가 있어도 등수에 큰 변화가 없으므로 이상치의 영향을 덜 받는다.</p>
<p>Spearman 상관계수를 구하려면, <code>cor()</code> 함수의 <code>method</code> 인수를 “spearman”으로 설정하면 된다. <code>course</code> 데이터는 Pearson과 Spearman 상관계수의 차이가 크지 않다.</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="ch-numericDescStat.html#cb726-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(course[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>], <span class="at">use =</span> <span class="st">&quot;pairwise.complete.obs&quot;</span>, <span class="at">method =</span> <span class="st">&quot;spearman&quot;</span>)</span></code></pre></div>
<pre><code>            mid     final        hw     score
mid   1.0000000 0.8368262 0.3814754 0.9492544
final 0.8368262 1.0000000 0.2667068 0.9386216
hw    0.3814754 0.2667068 1.0000000 0.4647101
score 0.9492544 0.9386216 0.4647101 1.0000000</code></pre>
<p>Kendall 상관계수는 관측치 쌍 <span class="math inline">\((x_i, y_i), (x_j, y_j)\)</span>에 대하여 <span class="math inline">\(x\)</span>와 <span class="math inline">\(y\)</span>가 같은 방향으로 움직이면 1, 반대로 움직이면 -1, 한 변수라도 같은 값이면 0으로 하여 관측치 쌍의 상관계수를 구한 후, 모든 관측치 쌍의 상관계수를 더하여 구한다. 관측치 쌍들 사이에 경향이 동일하게 움직이는가만 계산하기 때문에 이상치에 크게 영향을 받지 않는다.</p>
<p>Kendall 상관계수를 구하려면, <code>cor()</code> 함수의 <code>method</code> 인수를 “kendall”로 설정하면 된다. <code>course</code> 데이터는 Kendall 상관계수가 Pearson과 Spearman 상관계수보다는 적게 나오는 것을 볼 수 있다.</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="ch-numericDescStat.html#cb728-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(course[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>], <span class="at">use =</span> <span class="st">&quot;pairwise.complete.obs&quot;</span>, <span class="at">method =</span> <span class="st">&quot;kendall&quot;</span>)</span></code></pre></div>
<pre><code>            mid     final        hw     score
mid   1.0000000 0.6494909 0.2758297 0.8160261
final 0.6494909 1.0000000 0.1835906 0.8051283
hw    0.2758297 0.1835906 1.0000000 0.3309720
score 0.8160261 0.8051283 0.3309720 1.0000000</code></pre>
<p>앞서서 중간고사와 기말고사의 선형 상관성이 높은 것으로 나타났는데 이러한 상관성이 통계적으로 유의미한지를 파악하려면 상관성에 대한 가설검정을 수행해야 한다.</p>
<p><code>cor.test()</code> 함수를 이용하면 상관계수에 대한 가설검정을 수행할 수 있다. <code>cor.test()</code> 함수의 문법은 다음 두 가지가 있다.</p>
<pre><code>cor.test(수치_벡터1, 수치_벡터2, method = &quot;상관계수_종류&quot;)
cor.test(~ 수치열1 + 수치열2, data = 데이터, method = &quot;상관계수_종류&quot;)</code></pre>
<p>중간과 기말고사의 Pearson, Spearman, Kendall 상관계수 모두 매우 작은 p-값을 가지므로 통계적으로 유의미하다는 것을 알 수 있다. 단, Spearman과 Kendall 상관계수는 수치 값에 동률이 있으면 정확한 p-값을 구할 수 없어서 경고가 출력되었다.</p>
<div class="sourceCode" id="cb731"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb731-1"><a href="ch-numericDescStat.html#cb731-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor.test</span>(course<span class="sc">$</span>mid, course<span class="sc">$</span>final, <span class="at">method =</span> <span class="st">&quot;pearson&quot;</span>)</span></code></pre></div>
<pre><code>
    Pearson&#39;s product-moment correlation

data:  course$mid and course$final
t = 9.8277, df = 42, p-value = 1.88e-12
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.7152041 0.9069297
sample estimates:
      cor 
0.8348258 </code></pre>
<div class="sourceCode" id="cb733"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb733-1"><a href="ch-numericDescStat.html#cb733-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor.test</span>(<span class="sc">~</span> mid <span class="sc">+</span> final, <span class="at">data =</span> course, <span class="at">method =</span> <span class="st">&quot;spearman&quot;</span>)</span></code></pre></div>
<pre><code>Warning in cor.test.default(x = c(62L, 46L, 94L, 73L, 96L, 54L, 52L, 27L, :
Cannot compute exact p-value with ties</code></pre>
<pre><code>
    Spearman&#39;s rank correlation rho

data:  mid and final
S = 2315.4, p-value = 1.486e-12
alternative hypothesis: true rho is not equal to 0
sample estimates:
      rho 
0.8368262 </code></pre>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="ch-numericDescStat.html#cb736-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor.test</span>(<span class="sc">~</span> mid <span class="sc">+</span> final, <span class="at">data =</span> course, <span class="at">method =</span> <span class="st">&quot;kendall&quot;</span>)</span></code></pre></div>
<pre><code>Warning in cor.test.default(x = c(62L, 46L, 94L, 73L, 96L, 54L, 52L, 27L, :
Cannot compute exact p-value with ties</code></pre>
<pre><code>
    Kendall&#39;s rank correlation tau

data:  mid and final
z = 6.1296, p-value = 8.809e-10
alternative hypothesis: true tau is not equal to 0
sample estimates:
      tau 
0.6494909 </code></pre>
<p>데이터에 수치형 변수가 매우 많으면 <code>cor()</code> 함수로 계산된 수치에서 상관성이 높은 변수 쌍이 무엇인지 한 눈에 파악하기가 쉽지 않다. 이러한 경우에는 <code>corrplot</code> 패키지의 <code>corrplot.mixed()</code> 함수를 사용하면 많은 수치형 변수들 간의 상관성을 파악하기 좋다.</p>
<p><code>corrplot</code> 패키지의 <code>corrplot.mixed()</code> 함수를 사용하려면 먼저 <code>corrplot</code> 패키지를 설치해야 한다.</p>
<div class="sourceCode" id="cb739"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb739-1"><a href="ch-numericDescStat.html#cb739-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">install.packages</span>(<span class="st">&quot;corrplot&quot;</span>)</span></code></pre></div>
<p><code>corrplot.mixed()</code> 함수의 첫번째 인수는 <code>cor()</code> 함수의 결과를 입력하고, <code>upper</code> 인수는 그래프의 오른쪽 위 삼각형 부분에 두 변수의 상관성을 보여주는 도형을 무엇으로 할 것인가를 지정하는데 <code>"ellipse"</code>로 입력하면 두 변수의 양의 상관성이 높으면 우상향하는 가는 타원을, 음의 상관성이 높으면 우하향하는 가는 타원으로 상관성을 표시하고, 상관성이 없으면 원에 가까운 모양을 표시한다. 그래프의 대각선 영역은 변수 이름을 나타내고, 왼쪽 아래 삼각형 부분에는 두 변수의 상관계수를 표시하는데, 상관계수의 값이 크면 짙은 색으로 상관계수를 표시한다. 그리고 양의 상관성이 높으면 짙은 파란색으로, 음의 상관성이 높으면 짙은 붉은 색으로 상관계수와 타원을 표현한다.</p>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="ch-numericDescStat.html#cb740-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> corrplot<span class="sc">::</span><span class="fu">corrplot.mixed</span>(<span class="fu">cor</span>(diamonds[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>)]), <span class="at">upper =</span> <span class="st">&quot;ellipse&quot;</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-72-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>그런데 상관계수는 수치형 변수의 상관성을 측정하는데 다음과 같은 한계점을 갖는다.</p>
<ul>
<li>상관계수는 두 수치변수의 선형상관성만 측정하지 이차식의 포물선과 같은 비선형적 상관성에 대한 측정은 불가능하다. 그러므로 선형상관성 이외의 상관성이 있는지를 파악하려면 그래프를 그려보거나, 두 변수를 변환하여 상관성을 확인하여야 한다. 또는 최근에 정보이론에 기반을 둔 maximal information coefficient (MIC) <span class="citation">(<a href="#ref-reshef2011detecting" role="doc-biblioref">Reshef et al. 2011</a>)</span> 등을 사용하여 비선형적 상관성을 탐색할 수도 있다.</li>
<li>상관계수는 두 변수의 상관성만 탐색하므로 세 개 이상의 변수가 연관된 상관성을 파악하기 어렵다. 세 개 이상의 변수들의 상관성을 탐색하려면 회귀모형 등을 이용하여 변수들의 관계를 탐색하여야 한다.</li>
</ul>
</div>
<div id="산점도" class="section level3" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> 산점도</h3>
<p>상관계수가 두 수치 변수의 상관성을 통계량으로 살펴본 것이라면, 산점도(scatter plot)는 두 수치형 변수의 상관성을 시각적으로 살펴보는 방법이다. 그러므로 두 변수의 상관성을 선형 상관성 뿐 아니라 더 다양한 측면에서 살펴볼 수 있다.</p>
<p><code>ggplot2</code>의 <code>geom_point()</code> 함수를 사용하면 다음의 문법으로 두 변수의 산점도를 그릴 수 있다.</p>
<pre><code>ggplot(데이터, aes(x = 수치변수1, y = 수치변수2)) + geom_point()</code></pre>
<p>다음 예는 앞서 상관계수를 구한 중간고사와 기말고사 변수에 대해 산점도를 그린 예이다. 전반적으로 살펴보면 중간고사가 높은 학생이 기말고사 점수도 높은 경향을 보인다.</p>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb742-1"><a href="ch-numericDescStat.html#cb742-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> mid, <span class="at">y =</span> final)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<pre><code>Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-73-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>만약 여러 수치형 변수에 대해 산점도를 빠르게 그리고 싶으면 다음처럼 수치형 변수로만 이루어진 데이터 프레임을 만들어 <code>plot()</code> 함수에 전달하면 된다.</p>
<div class="sourceCode" id="cb744"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb744-1"><a href="ch-numericDescStat.html#cb744-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">plot</span>(course[<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>])</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-74-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>산점도에서 숙제 점수는 대부분 비슷하여 최종평균 점수에 별 영향을 미치지 못함을 파악할 수 있다. 중간과 기말, 중간과 최종, 기말과 최종은 어느 정도 강한 상관관계를 가지고 있음을 확인할 수 있다.</p>
</div>
<div id="추세선-그리기" class="section level3" number="8.2.3">
<h3><span class="header-section-number">8.2.3</span> 추세선 그리기</h3>
<p>두 수치형 변수에 비선형적 상관성이 있으면 산점도만 보고 이를 파악하기 어려운 경우가 많다. 이러한 경우에는 <code>geom_smooth()</code> 함수를 사용하면 두 변수의 변화 추세를 보여주는 선을 그려보면 비선형적 상관성 파악에 도움이 된다. 회색으로 표시된 부분은 추세선의 95% 신뢰구간이며 <code>se=FALSE</code>로 인수를 설정하면 사라진다.</p>
<div class="sourceCode" id="cb745"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb745-1"><a href="ch-numericDescStat.html#cb745-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> mid, <span class="at">y =</span> final)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>()</span></code></pre></div>
<pre><code>`geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<pre><code>Warning: Removed 1 rows containing non-finite values (stat_smooth).</code></pre>
<pre><code>Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-75-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>추세선은 데이터가 적으면 지역 다항 회귀선(loess)을 이용하여, 데이터가 많으면 일반화 가법 모형(gam)을 사용하여 추정한다. <code>method</code> 인수를 사용하면 추세선을 그릴 때 사용할 적합 모형을 지정할 수 있다. <code>method = "lm"</code>으로 설정하면 선형회귀 모형을 사용하여 추세선을 그린다.</p>
<div class="sourceCode" id="cb749"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb749-1"><a href="ch-numericDescStat.html#cb749-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> mid, <span class="at">y =</span> final)) <span class="sc">+</span> </span>
<span id="cb749-2"><a href="ch-numericDescStat.html#cb749-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<pre><code>`geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-76-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>지역 다항 회귀선으로 추세션을 그릴 때 <code>span</code> 인수를 이용하면 얼마나 지역적으로 추세선을 적합할지를 조정할 수 있다. <code>span</code>이 1에 가까울수록 전체 데이터를 모두 사용하여 추세선을 적합하므로 매우 부드러운 곡선이 적합되고<code>span</code>이 0에 가까울수록 매우 가까운 소수의 데이터만을 사용하여 추세선을 적합하므로 데이터의 변화에 따라 구불구불한 추세선이 만들어진다. 너무 작은 값을 사용하면 추세선이 데이터에 과적합되어서 추세선이 소수의 데이터에 영향을 많이 받게 된다.</p>
<div class="sourceCode" id="cb751"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb751-1"><a href="ch-numericDescStat.html#cb751-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> mid, <span class="at">y =</span> final)) <span class="sc">+</span> </span>
<span id="cb751-2"><a href="ch-numericDescStat.html#cb751-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">span =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-77-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb752"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb752-1"><a href="ch-numericDescStat.html#cb752-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> mid, <span class="at">y =</span> final)) <span class="sc">+</span> </span>
<span id="cb752-2"><a href="ch-numericDescStat.html#cb752-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">span =</span> <span class="fl">0.7</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-77-2.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb753"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb753-1"><a href="ch-numericDescStat.html#cb753-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(course, <span class="fu">aes</span>(<span class="at">x =</span> mid, <span class="at">y =</span> final)) <span class="sc">+</span> </span>
<span id="cb753-2"><a href="ch-numericDescStat.html#cb753-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">span =</span> <span class="fl">0.4</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-77-3.png" width="60%" style="display: block; margin: auto;" /></p>
</div>
<div id="수치형-변수의-변환" class="section level3" number="8.2.4">
<h3><span class="header-section-number">8.2.4</span> 수치형 변수의 변환</h3>
<p>앞서 살펴보았던 다이아몬드의 가격과 중량이 상관성이 있는지를 산점도를 그려 살펴보자.
전체 데이터를 대상으로 산점도를 그릴 수도 있지만, 다이아몬드 데이터는 관측치가 매우 많아서 컴퓨터 성능에 따라 산점도를 만들고 표시하는데 시간이 어느 정도 걸릴 수 있다. 그래서 데이터의 10%만 표본 추출하여 산점도를 그려보자. <code>dplyr</code> 패키지는 이러한 역할을 하는 <code>sample_n()</code>과 <code>sample_frac()</code> 함수를 가지고 있다. 전자는 <code>n</code> 인수에 설정된 숫자만큼 임의로 행을 추출하고, 후자는 <code>size</code>에 설정된 비율만큼 행을 임의 추출한다. <code>dplyr</code> 패키지가 설치되어 있지 않다면 먼저 설치를 해야 한다.</p>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="ch-numericDescStat.html#cb754-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<p>다음은 <code>diamonds</code> 데이터에서 10%만 표본 추출한 후, 표본 추출한 데이터를 <code>diamonds_sample</code>이라는 변수에 할당하는 예이다.</p>
<div class="sourceCode" id="cb755"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb755-1"><a href="ch-numericDescStat.html#cb755-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> diamonds_sample <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">sample_frac</span>(diamonds, <span class="at">size =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<p>전반적으로 보았을 때 중량이 커지면 다이아몬드의 가격도 상승하는 경향이 있다. 그러나 소수의 중량이 큰 관측치로 인해 정확한 관계를 파악하기 어렵다.</p>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="ch-numericDescStat.html#cb756-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds_sample, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span> </span>
<span id="cb756-2"><a href="ch-numericDescStat.html#cb756-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>()</span></code></pre></div>
<pre><code>`geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-80-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb758"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb758-1"><a href="ch-numericDescStat.html#cb758-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(diamonds_sample<span class="sc">$</span>carat, diamonds_sample<span class="sc">$</span>price)</span></code></pre></div>
<pre><code>[1] 0.9202264</code></pre>
<p>두 변수 모두 로그 변환을 하여 산점도를 다시 그려보자. 마지막 몇 데이터를 제외하고는 중량과 가격은 거의 선형에 가까운 관계를 보인다. 이는 로그 변환 후에 상관계수를 구해보면 확실히 알 수 있다. 따라서 다이아몬드의 가격은 중량에 의해 많은 부분을 설명하고 예측할 수 있을 것이라는 것을 예상할 수 있다.</p>
<div class="sourceCode" id="cb760"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb760-1"><a href="ch-numericDescStat.html#cb760-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds_sample, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span> </span>
<span id="cb760-2"><a href="ch-numericDescStat.html#cb760-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb760-3"><a href="ch-numericDescStat.html#cb760-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">scale_y_log10</span>()</span></code></pre></div>
<pre><code>`geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-81-1.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb762"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb762-1"><a href="ch-numericDescStat.html#cb762-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">cor</span>(<span class="fu">log10</span>(diamonds_sample<span class="sc">$</span>carat), <span class="fu">log10</span>(diamonds_sample<span class="sc">$</span>price))</span></code></pre></div>
<pre><code>[1] 0.9648221</code></pre>
</div>
<div id="subsubsection:categorynum" class="section level3" number="8.2.5">
<h3><span class="header-section-number">8.2.5</span> 범주형 변수를 조건으로 수치형 변수의 상관성 탐색</h3>
<p>앞의 다이아몬드의 중량과 가격 사례는 중량이 가격에 매우 높은 상관성이 있음을 보여준다. 그러나 우리는 다음의 두 가지 추가 질문을 해 볼 필요가 있다.</p>
<ul>
<li>동일한 중량에도 가격의 차이가 상당히 발생함을 볼 수 있다. 그러면 다이아몬드 중량을 제외하고 남은 가격의 변동성은 어디서 왔을까?</li>
<li>산점도의 선형 추세선에 잘 들어맞지 않는 중량에 비해 가격이 낮은 다이아몬드들은 그 이유가 무엇일까?</li>
</ul>
<p>이 질문에 대한 답이 혹시 다이아몬드의 가공품질(<code>cut</code>)에 있는 것은 아닌지 한번 살펴보자. 그러려면 중량과 가격의 상관관계가 가공품질에 따라 달라지는지 확인해 보아야 한다. 산점도에서 범주형 변수의 값에 따라 두 수치형 변수의 상관성에 차이가 있는지를 살펴보는 가장 쉬운 방법은 산점도의 점을 범주형 변수의 값에 따라 다른 색상 또는 모양으로 그려보는 것이다.</p>
<div class="sourceCode" id="cb764"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb764-1"><a href="ch-numericDescStat.html#cb764-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds_sample, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price, <span class="at">color =</span> cut)) <span class="sc">+</span> </span>
<span id="cb764-2"><a href="ch-numericDescStat.html#cb764-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">se=</span>F) <span class="sc">+</span></span>
<span id="cb764-3"><a href="ch-numericDescStat.html#cb764-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">scale_y_log10</span>()</span></code></pre></div>
<pre><code>`geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-82-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>산점도에 나타나는 너무 많은 데이터가 오히려 변수들의 상관 관계를 확인하기 어렵게 만든다. 그래프에서 점을 제외하고 추세선만 그려보자. 가장 낮은 가공 품질인 Fair와 다른 가공품질의 가격 추이가 조금은 다른 것을 볼 수 있다. 그러나 Good에서 Ideal 등급 사이의 추세선은 신뢰구간이 서로 겹쳐 있어서 가공품질이 나머지 가격 변동성을 설명해주는 부분은 그리 크지 않은 것으로 파악된다.</p>
<div class="sourceCode" id="cb766"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb766-1"><a href="ch-numericDescStat.html#cb766-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds_sample, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price, <span class="at">color =</span> cut)) <span class="sc">+</span> </span>
<span id="cb766-2"><a href="ch-numericDescStat.html#cb766-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb766-3"><a href="ch-numericDescStat.html#cb766-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">scale_y_log10</span>()</span></code></pre></div>
<pre><code>`geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-83-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>이번에 다이아몬드의 투명도(<code>clarity</code>)에 따라 중량과 가격의 상관성을 확인해 보자. 이번에는 점을 흐리게 하여 추세선의 아래 층에 같이 그렸다. 중량이 같은 경우 투명성이 커질수록 가격의 상단에 데이터와 추세선이 위치하는 것을 볼 수 있다. 그리고 투명도에 따른 가격의 차이가 중량을 제외한 가격의 변동성의 대부분을 설명하는 것으로 보인다. 그리고 하나 더 파악할 수 있는 것은 중량이 1 캐럿이 넘어가면 중량과 가격의 로그 변환의 선형성이 비선형적으로 움직이는 것을 볼 수 있다.</p>
<div class="sourceCode" id="cb768"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb768-1"><a href="ch-numericDescStat.html#cb768-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds_sample, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price, <span class="at">color =</span> clarity)) <span class="sc">+</span> </span>
<span id="cb768-2"><a href="ch-numericDescStat.html#cb768-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb768-3"><a href="ch-numericDescStat.html#cb768-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb768-4"><a href="ch-numericDescStat.html#cb768-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">scale_y_log10</span>()</span></code></pre></div>
<pre><code>`geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-84-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>범주형 변수의 값에 따라 두 수치형 변수의 관계를 살펴보기는 측면으로 나누어 그래프를 그려 볼 수도 있다. 이 경우에 각 범주별로 그래프가 분리되어 그려져 각각의 경향을 파악하기는 쉬우나 서로 비교하는 것은 어렵다.</p>
<div class="sourceCode" id="cb770"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb770-1"><a href="ch-numericDescStat.html#cb770-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds_sample, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span> </span>
<span id="cb770-2"><a href="ch-numericDescStat.html#cb770-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb770-3"><a href="ch-numericDescStat.html#cb770-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">scale_y_log10</span>() <span class="sc">+</span> </span>
<span id="cb770-4"><a href="ch-numericDescStat.html#cb770-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">facet_wrap</span>(<span class="sc">~</span> clarity)</span></code></pre></div>
<pre><code>`geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-85-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>두 수치형 변수의 관계를 범주형 변수에 따라 어떻게 달라지는지 더 자세히 살펴보려면 회귀분석 모형을 사용해야 한다. 관련된 내용은 회귀 분석과 관련된 강의와 <a href="ch-categorical-numeric.html#ch:categorical-numeric">9</a> 장을 참조한다.</p>
</div>
<div id="수치형-변수를-조건으로-두-수치형-변수의-상관성-분석" class="section level3" number="8.2.6">
<h3><span class="header-section-number">8.2.6</span> 수치형 변수를 조건으로 두 수치형 변수의 상관성 분석</h3>
<p>그러면 다른 수치형 변수의 값에 따라 수치형 변수의 상관성에 차이가 있는지도 분석할 수 있을까? 일반적으로 3개 이상의 수치 변수의 관계는 다중 회귀 모형과 공분산분석을 이용하여 탐구한다. 이에 대해서는 회귀 분석과 공분산분석을 다룰 때 살펴보도록 한다.</p>
<p>기술통계 방법을 사용하여 이를 살펴보는 방법은 조건이 되는 수치형 변수를 범주형 변수로 변환한 후 앞서 범주형 변수를 조건으로 두 수치형 변수에 대한 상관성 분석을 한 방법을 이용하는 것이다. 예를 들어 다음은 <code>diamonds</code> 데이터의 <code>table</code> 변수를 4분위수로 4 개의 구간으로 나누어 <code>table_cut</code> 열에 저장한 후, 이 열을 기준으로 측면으로 나누어 다이아몬드의 중량과 가격 산점도를 그려 볼 수 있다.</p>
<div class="sourceCode" id="cb772"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb772-1"><a href="ch-numericDescStat.html#cb772-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> diamonds_sample<span class="sc">$</span>table_cut <span class="ot">&lt;-</span> </span>
<span id="cb772-2"><a href="ch-numericDescStat.html#cb772-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">cut</span>(diamonds_sample<span class="sc">$</span>table, <span class="at">breaks =</span> <span class="fu">quantile</span>(diamonds_sample<span class="sc">$</span>table), <span class="at">include.lowest =</span> T)</span>
<span id="cb772-3"><a href="ch-numericDescStat.html#cb772-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(diamonds_sample, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span> </span>
<span id="cb772-4"><a href="ch-numericDescStat.html#cb772-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb772-5"><a href="ch-numericDescStat.html#cb772-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">scale_y_log10</span>() <span class="sc">+</span> </span>
<span id="cb772-6"><a href="ch-numericDescStat.html#cb772-6" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>   <span class="fu">facet_wrap</span>(<span class="sc">~</span> table_cut)</span></code></pre></div>
<pre><code>`geom_smooth()` using method = &#39;gam&#39; and formula &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-86-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="ggpairs를-이용한-수치형-변수를-한-번에-분석하기" class="section level3" number="8.2.7">
<h3><span class="header-section-number">8.2.7</span> <code>ggpairs()</code>를 이용한 수치형 변수를 한 번에 분석하기</h3>
<p><code>GGally</code> 패키지에서 제공하는 <code>ggpairs()</code> 함수를 사용하면 수치형 변수의 확률 밀도 그래프, 수치형 변수 간의 산점도, 수치형 변수 사이의 상관계수와 가설검정 결과를 한 번에 확인할 수 있어 편리하다.</p>
<p>먼저 <code>GGally</code> 패키지를 설치한다.</p>
<div class="sourceCode" id="cb774"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb774-1"><a href="ch-numericDescStat.html#cb774-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">install.packages</span>(<span class="st">&quot;GGally&quot;</span>)</span></code></pre></div>
<p><code>ggpairs()</code> 함수의 첫 번째 인수는 데이터, 두번째 인수에는 그래프를 그릴 열의 위치를 지정한다.</p>
<div class="sourceCode" id="cb775"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb775-1"><a href="ch-numericDescStat.html#cb775-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> GGally<span class="sc">::</span><span class="fu">ggpairs</span>(course, <span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>)</span></code></pre></div>
<p><img src="descriptiveStat-numeric_files/figure-html/unnamed-chunk-88-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>그래프 행렬의 대각선에는 각 변수의 확률 밀도 그래프가 그려진다. 우상단 삼각형에는 두 변수 간의 상관계수와 가설검정 결과를 보여준다. <code>*</code> 유의수준 10%에서 두 변수의 상관성이 의미있다는 것을 나타내며, <code>**</code>와 <code>***</code>은 각각 유의수준 5%와 1%에서 상관성이 의미있다는 것을 나타낸다. 우하단의 삼각형은 두 변수 간의 산점도를 보여준다.</p>
<p><code>ggpairs()</code> 함수는 수치형 변수뿐 아니라 범주형 변수에 대해서도 그래프를 그려준다. 관심있는 독자는 <code>course</code> 데이터 전체에 대하여 <code>ggpairs()</code> 함수를 적용해 보기 바란다. (두 번째 인수를 생략하면 전체 열에 대하여 <code>ggpairs()</code> 함수를 적용할 수 있다.)</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-chapman2015" class="csl-entry">
Chapman, Chris, and Elea McDonnell Feit. 2015. <em><span>R</span> for Marketing Research and Analytics</em>. 2nd ed. Springer.
</div>
<div id="ref-reshef2011detecting" class="csl-entry">
Reshef, David N, Yakir A Reshef, Hilary K Finucane, Sharon R Grossman, Gilean McVean, Peter J Turnbaugh, Eric S Lander, Michael Mitzenmacher, and Pardis C Sabeti. 2011. <span>“Detecting Novel Associations in Large Data Sets.”</span> <em>Science</em> 334 (6062): 1518–24.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="6">
<li id="fn6"><p>왜도에 대해서는 조금 다른 정의도 있다. 다음 논문을 참조하기 바란다. Joanes, D.N. and Gill, C.A (1998). Comparing measures of sample skewness and kurtosis. The Statistician, 47, 183-189.<a href="ch-numericDescStat.html#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>첨도에 대해서는 조금 다른 정의도 있다. 다음 논문을 참조하기 바란다. Joanes, D.N. and Gill, C.A (1998). Comparing measures of sample skewness and kurtosis. The Statistician, 47, 183-189.<a href="ch-numericDescStat.html#fnref7" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ch-categoricalDescStat.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ch-categorical-numeric.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bizStatistics.pdf", "bizStatistics.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
